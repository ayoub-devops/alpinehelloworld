Script started on Wed 05 May 2021 03:43:11 AM CEST
            sh '''
              heroku container:login
              heroku create $PRODUCTION || echo "project already exist"
              heroku container:push -a $PRODUCTION web
              heroku container:release -a $PRODUCTION web
            '''
          }
        }
     }
  }
}
     

        
        
]0;centos@localhost:~/alpinehelloworld[?1034h[centos@localhost alpinehelloworld]$             sh '''
>               heroku container:login
>               heroku create $PRODUCTION || echo "project already exist"
>               heroku container:push -a $PRODUCTION web
>               heroku container:release -a $PRODUCTION web
>             '''
sh: 
              heroku container:login
              heroku create $PRODUCTION || echo "project already exist"
              heroku container:push -a $PRODUCTION web
              heroku container:release -a $PRODUCTION web
            : No such file or directory
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$           }
bash: syntax error near unexpected token `}'
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$         }
bash: syntax error near unexpected token `}'
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$      }
bash: syntax error near unexpected token `}'
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$   }
bash: syntax error near unexpected token `}'
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ }
bash: syntax error near unexpected token `}'
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$      
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ 
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$         
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$         
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ vi j[Kk[KJenkinsfile 
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"Jenkinsfile" 94L, 2409C[1;1Hpipeline {[2;6Henvironment {[3;8HIMAGE_NAME = "alpinehelloworld"[4;8HIMAGE_TAG = "latest"[5;8HSTAGING = "ayoub-staging"[6;8HPRODUCTION = "ayoub-production"[7;8HIMAGE_REPO = "ayoubmhellioui"[8;6H}[9;6Hagent none[10;6Hstages {[11;10Hstage('Build image') {[12;14Hagent any[13;14Hsteps {[14;17Hscript {[15;19Hsh 'docker build -t $IMAGE_REPO/$IMAGE_NAME:$IMAGE_TAG .'[16;17H}[17;14H}[18;9H}[19;9Hstage('Run container based on builded image') {[20;13Hagent any[21;13Hsteps {[22;16Hscript {[23;18Hsh '''[24;21Hdocker run --name $IMAGE_NAME -d -p 80:5000 -e PORT=5000 $IMAGE_REPO/$IMAGE_NAME:$IMAGE_TAG[25;21Hsleep 5[26;18H'''[27;16H}[28;13H}[29;8H}[30;8Hstage('Test image') {[31;12Hagent any[32;12Hsteps {[1;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;13H[K[1;1H[?12l[?25h






























[?25l[1;32r[32;1H
[1;33r[32;15Hscript {[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;17Hsh '''[32;21Hcurl http://172.17.0.1 | grep -q "Hello world"[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;17H'''[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;15H}[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;12H}[32;7H}[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;7Hstage('Clean Container') {[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;11Hagent any[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;11Hsteps {[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;14Hscript {[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;16Hsh '''[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;19Hdocker rm -vf ${IMAGE_NAME}[32;16H'''[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;14H}[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;11H}[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H}[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6Hstage('Push image in staging and deploy it') {[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;8Hwhen {[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;15Hexpression { GIT_BRANCH == 'origin/master' }[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;13H}[32;7Hagent any[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;7Henvironment {[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;11HHEROKU_API_KEY = credentials('heroku_api_key')[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;7H}[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;7Hsteps {[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;11Hscript {[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;13Hsh '''[32;15Hheroku container:login[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;15Hheroku create $STAGING || echo "project already exist"[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;15Hheroku container:push -a $STAGING web[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;15Hheroku container:release -a $STAGING web[32;13H'''[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;11H}[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;9H}[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H}[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6Hstage('Push image in production and deploy it') {[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;8Hwhen {[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;15Hexpression { GIT_BRANCH == 'origin/master' }[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;13H}[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;7Hagent any[32;7Henvironment {[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;11HHEROKU_API_KEY = credentials('heroku_api_key')[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;7H}[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;7Hsteps {[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;11Hscript {[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;13Hsh '''[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;15Hheroku container:login[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;15Hheroku create $PRODUCTION || echo "project already exist"[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;15Hheroku container:push -a $PRODUCTION web[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;15Hheroku container:release -a $PRODUCTION web[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;13H'''[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;11H}[32;9H}[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H}[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H}[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H}[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[?12l[?25h[?25l[1m[34m~                                                                                                                             [31;9H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l~                                                                                                                             [30;9H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l~                                                                                                                             [29;1H[?12l[?25h[?25l~                                                                                                                             [28;6H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l~                                                                                                                             [27;2H[?12l[?25h[?25l[m[27;1H[K[27;1H[?12l[?25h[?25l[1m[34m~                                                                                                                             [26;4H[?12l[?25h[?25l[m[26;3H[K[26;3H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[1m[34m~                                                                                                                             [25;7H[?12l[?25h[?25l[m[25;6H[K[25;5H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[24;9H[K[25;1H[1m[34m~                                                                                                                             [24;9H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l~                                                                                                                             [23;12H[?12l[?25h[?25l[m[23;11H[K[23;11H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[1m[34m~                                                                                                                             [22;16H[?12l[?25h[?25l[m[22;15H[K[22;15H[?12l[?25h[?25l[22;14H[K[22;14H[?12l[?25h[?25l[22;13H[K[22;13H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[1m[34m~                                                                                                                             [21;58H[?12l[?25h[?25l[m[21;56H[K[21;56H[?12l[?25h[?25l[21;55H[K[21;55H[?12l[?25h[?25l[21;53H[K[21;53H[?12l[?25h[?25l[21;52H[K[21;52H[?12l[?25h[?25l[21;50H[K[21;50H[?12l[?25h[?25l[21;49H[K[21;49H[?12l[?25h[?25l[21;48H[K[21;48H[?12l[?25h[?25l[21;47H[K[21;47H[?12l[?25h[?25l[21;46H[K[21;46H[?12l[?25h[?25l[21;45H[K[21;45H[?12l[?25h[?25l[21;44H[K[21;44H[?12l[?25h[?25l[21;43H[K[21;43H[?12l[?25h[?25l[?12l[?25h[?25l[21;41H[K[21;41H[?12l[?25h[?25l[21;40H[K[21;40H[?12l[?25h[?25l[?12l[?25h[?25l[21;37H[K[21;37H[?12l[?25h[?25l[21;36H[K[21;36H[?12l[?25h[?25l[21;35H[K[21;35H[?12l[?25h[?25l[21;34H[K[21;34H[?12l[?25h[?25l[21;33H[K[21;33H[?12l[?25h[?25l[21;32H[K[21;32H[?12l[?25h[?25l[21;31H[K[21;31H[?12l[?25h[?25l[21;30H[K[21;30H[?12l[?25h[?25l[21;29H[K[21;29H[?12l[?25h[?25l[21;28H[K[21;28H[?12l[?25h[?25l[21;27H[K[21;27H[?12l[?25h[?25l[21;26H[K[21;26H[?12l[?25h[?25l[21;25H[K[21;25H[?12l[?25h[?25l[21;23H[K[21;23H[?12l[?25h[?25l[21;22H[K[21;22H[?12l[?25h[?25l[?12l[?25h[?25l[21;20H[K[21;20H[?12l[?25h[?25l[21;19H[K[21;19H[?12l[?25h[?25l[21;18H[K[21;18H[?12l[?25h[?25l[21;16H[K[21;16H[?12l[?25h[?25l[21;15H[K[21;15H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[1m[34m~                                                                                                                             [20;55H[?12l[?25h[?25l[m[20;54H[K[20;54H[?12l[?25h[?25l[20;53H[K[20;53H[?12l[?25h[?25l[20;52H[K[20;52H[?12l[?25h[?25l[?12l[?25h[?25l[20;50H[K[20;50H[?12l[?25h[?25l[20;49H[K[20;49H[?12l[?25h[?25l[20;48H[K[20;48H[?12l[?25h[?25l[20;47H[K[20;47H[?12l[?25h[?25l[20;45H[K[20;45H[?12l[?25h[?25l[20;43H[K[20;43H[?12l[?25h[?25l[20;41H[K[20;41H[?12l[?25h[?25l[20;40H[K[20;40H[?12l[?25h[?25l[?12l[?25h[?25l[20;38H[K[20;38H[?12l[?25h[?25l[20;37H[K[20;37H[?12l[?25h[?25l[20;35H[K[20;35H[?12l[?25h[?25l[20;34H[K[20;34H[?12l[?25h[?25l[20;33H[K[20;33H[?12l[?25h[?25l[20;32H[K[20;32H[?12l[?25h[?25l[20;31H[K[20;31H[?12l[?25h[?25l[20;30H[K[20;30H[?12l[?25h[?25l[20;29H[K[20;29H[?12l[?25h[?25l[20;28H[K[20;28H[?12l[?25h[?25l[20;27H[K[20;27H[?12l[?25h[?25l[20;26H[K[20;26H[?12l[?25h[?25l[20;25H[K[20;25H[?12l[?25h[?25l[20;24H[K[20;24H[?12l[?25h[?25l[20;22H[K[20;22H[?12l[?25h[?25l[?12l[?25h[?25l[20;19H[K[20;19H[?12l[?25h[?25l[20;17H[K[20;17H[?12l[?25h[?25l[20;16H[K[20;16H[?12l[?25h[?25l[20;15H[K[20;15H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[1m[34m~                                                                                                                             [19;72H[?12l[?25h[?25l[m[19;71H[K[19;71H[?12l[?25h[?25l[19;70H[K[19;70H[?12l[?25h[?25l[19;69H[K[19;69H[?12l[?25h[?25l[19;68H[K[19;68H[?12l[?25h[?25l[19;67H[K[19;67H[?12l[?25h[?25l[19;66H[K[19;66H[?12l[?25h[?25l[?12l[?25h[?25l[19;64H[K[19;64H[?12l[?25h[?25l[19;63H[K[19;63H[?12l[?25h[?25l[19;62H[K[19;62H[?12l[?25h[?25l[19;61H[K[19;61H[?12l[?25h[?25l[19;60H[K[19;60H[?12l[?25h[?25l[19;59H[K[19;59H[?12l[?25h[?25l[19;58H[K[19;57H[?12l[?25h[?25l[19;56H[K[19;56H[?12l[?25h[?25l[19;55H[K[19;55H[?12l[?25h[?25l[19;54H[K[19;54H[?12l[?25h[?25l[19;53H[K[19;53H[?12l[?25h[?25l[19;51H[K[19;51H[?12l[?25h[?25l[19;50H[K[19;50H[?12l[?25h[?25l[19;49H[K[19;49H[?12l[?25h[?25l[?12l[?25h[?25l[19;47H[K[19;47H[?12l[?25h[?25l[19;46H[K[19;46H[?12l[?25h[?25l[19;45H[K[19;45H[?12l[?25h[?25l[19;44H[K[19;44H[?12l[?25h[?25l[?12l[?25h[?25l[19;42H[K[19;42H[?12l[?25h[?25l[19;41H[K[19;41H[?12l[?25h[?25l[?12l[?25h[?25l[19;39H[K[19;39H[?12l[?25h[?25l[19;37H[K[19;37H[?12l[?25h[?25l[19;36H[K[19;36H[?12l[?25h[?25l[19;35H[K[19;35H[?12l[?25h[?25l[19;33H[K[19;33H[?12l[?25h[?25l[19;32H[K[19;32H[?12l[?25h[?25l[19;31H[K[19;31H[?12l[?25h[?25l[19;30H[K[19;30H[?12l[?25h[?25l[19;29H[K[19;28H[?12l[?25h[?25l[19;27H[K[19;27H[?12l[?25h[?25l[19;25H[K[19;25H[?12l[?25h[?25l[19;24H[K[19;24H[?12l[?25h[?25l[19;23H[K[19;23H[?12l[?25h[?25l[19;22H[K[19;22H[?12l[?25h[?25l[19;20H[K[19;20H[?12l[?25h[?25l[19;19H[K[19;19H[?12l[?25h[?25l[19;17H[K[19;17H[?12l[?25h[?25l[19;16H[K[19;16H[?12l[?25h[?25l[19;15H[K[19;14H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[18;36H[K[19;1H[1m[34m~                                                                                                                             [18;36H[?12l[?25h[?25l[m[18;35H[K[18;35H[?12l[?25h[?25l[18;34H[K[18;34H[?12l[?25h[?25l[18;33H[K[18;33H[?12l[?25h[?25l[18;31H[K[18;31H[?12l[?25h[?25l[18;30H[K[18;30H[?12l[?25h[?25l[18;29H[K[18;29H[?12l[?25h[?25l[18;28H[K[18;28H[?12l[?25h[?25l[18;26H[K[18;26H[?12l[?25h[?25l[18;25H[K[18;25H[?12l[?25h[?25l[18;23H[K[18;23H[?12l[?25h[?25l[18;22H[K[18;21H[?12l[?25h[?25l[18;20H[K[18;20H[?12l[?25h[?25l[18;19H[K[18;19H[?12l[?25h[?25l[18;18H[K[18;18H[?12l[?25h[?25l[18;16H[K[18;16H[?12l[?25h[?25l[18;15H[K[18;15H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25ld[?12l[?25h[?25l[18;4H[K[18;4H[?12l[?25h[33;1H[K[18;3H[?25l[?12l[?25h[?25l[1m[34m~                                                                                                                             [17;13H[?12l[?25h[?25l[m[33;1H[1m-- INSERT --[m[17;13Hh '[17;18H[K[17;13H[?12l[?25h[?25ldh '''[?12l[?25h[?25lsh '''[?12l[?25h[?25lqh '''[?12l[?25h[33;1H[K[17;15H[?25l[?12l[?25h[?25l[17;15H[K[17;14H[?12l[?25hd[16;18H[15;13H[?25l[33;1H[1m-- INSERT --[15;5H[?12l[?25h[?25l[m steps {[15;13H[K[15;4H[?12l[?25h
   
   [?25l[8Cds[17;14H[K[17;3H[?12l[?25h[?25l[8Cds[17;13H[K[17;2H[?12l[?25h[?25l[16;28Hds
[1m[34m~                                                                                                                             [16;19H[?12l[?25h[15;13H[16;19H[m         ds[?25l[16;29H[K[16;29H[?12l[?25h[?25l[16;28H[K[16;28H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[16;18H[K[16;18H[?12l[?25h[?25l[16;16H[K[16;16H[?12l[?25h[?25l[16;15H[K[16;15H[?12l[?25h[?25l[16;13H[K[16;13H[?12l[?25h[?25l[16;12H[K[16;12H[?12l[?25h[?25l[16;11H[K[16;10H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[1m[34m~                                                                                                                             [15;13H[?12l[?25h[?25l[m[15;12H[K[15;12H[?12l[?25h[?25l[?12l[?25h[?25l[15;10H[K[15;10H[?12l[?25h[?25l[15;9H[K[15;9H[?12l[?25h[?25l[15;7H[K[15;7H[?12l[?25h[?25l[15;6H[K[15;6H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[1m[34m~                                                                                                                             [14;10H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[m[14;7H[K[14;7H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[1m[34m~                                                                                                                             [13;57H[?12l[?25h[?25l[m[13;56H[K[13;56H[?12l[?25h[?25l[13;55H[K[13;55H[?12l[?25h[?25l[13;54H[K[13;54H[?12l[?25h[?25l[13;53H[K[13;53H[?12l[?25h[?25l[13;52H[K[13;52H[?12l[?25h[?25l[13;51H[K[13;51H[?12l[?25h[?25l[13;50H[K[13;50H[?12l[?25h[?25l[13;49H[K[13;49H[?12l[?25h[?25l[13;48H[K[13;48H[?12l[?25h[?25l[13;47H[K[13;47H[?12l[?25h[?25l[13;46H[K[13;46H[?12l[?25h[?25l[13;45H[K[13;45H[?12l[?25h[?25l[13;44H[K[13;44H[?12l[?25h[?25l[13;43H[K[13;43H[?12l[?25h[?25l[13;42H[K[13;42H[?12l[?25h[?25l[13;41H[K[13;41H[?12l[?25h[?25l[13;39H[K[13;39H[?12l[?25h[?25l[13;38H[K[13;38H[?12l[?25h[?25l[13;37H[K[13;37H[?12l[?25h[?25l[13;36H[K[13;36H[?12l[?25h[?25l[13;34H[K[13;34H[?12l[?25h[?25l[13;33H[K[13;33H[?12l[?25h[?25l[13;31H[K[13;31H[?12l[?25h[?25l[13;30H[K[13;30H[?12l[?25h[?25l[13;29H[K[13;29H[?12l[?25h[?25l[13;28H[K[13;28H[?12l[?25h[?25l[13;26H[K[13;26H[?12l[?25h[?25l[?12l[?25h[?25l[13;24H[K[13;24H[?12l[?25h[?25l[13;23H[K[13;23H[?12l[?25h[?25l[13;22H[K[13;22H[?12l[?25h[?25l[13;21H[K[13;21H[?12l[?25h[?25l[13;20H[K[13;20H[?12l[?25h[?25l[13;19H[K[13;19H[?12l[?25h[?25l[13;18H[K[13;18H[?12l[?25h[?25l[13;17H[K[13;17H[?12l[?25h[?25l[13;16H[K[13;16H[?12l[?25h[?25l[13;15H[K[13;15H[?12l[?25h[?25l[13;14H[K[13;14H[?12l[?25h[?25l[13;13H[K[13;13H[?12l[?25h[?25l[13;12H[K[13;12H[?12l[?25h[?25l[13;11H[K[13;11H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[12;19H[K[13;1H[1m[34m~                                                                                                                             [12;19H[?12l[?25h[?25l[?12l[?25h[?25l[m[12;17H[K[12;17H[?12l[?25h[?25l[12;16H[K[12;16H[?12l[?25h[?25l[12;14H[K[12;14H[?12l[?25h[?25l[12;13H[K[12;13H[?12l[?25h[?25l[12;11H[K[12;11H[?12l[?25h[?25l[12;10H[K[12;10H[?12l[?25h[?25l[12;9H[K[12;9H[?12l[?25h[?25l[12;8H[K[12;8H[?12l[?25h[?25l[12;7H[K[12;7H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[1m[34m~                                                                                                                             [11;16H[?12l[?25h[?25l[m[11;15H[K[11;15H[?12l[?25h[?25l[11;14H[K[11;14H[?12l[?25h[?25l[11;13H[K[11;13H[?12l[?25h[?25l[?12l[?25h[?25l[11;11H[K[11;11H[?12l[?25h[?25l[11;10H[K[11;10H[?12l[?25h[?25l[11;9H[K[11;9H[?12l[?25h[?25l[11;8H[K[11;8H[?12l[?25h[?25l[11;7H[K[11;7H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[1m[34m~                                                                                                                             [10;14H[?12l[?25h[?25l[m[10;13H[K[10;12H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[9;58H[K[10;1H[1m[34m~                                                                                                                             [9;58H[?12l[?25h[?25l[?12l[?25h[?25l[m[9;55H[K[9;55H[?12l[?25h[?25l[9;54H[K[9;54H[?12l[?25h[?25l[9;52H[K[9;52H[?12l[?25h[?25l[9;51H[K[9;51H[?12l[?25h[?25l[9;50H[K[9;50H[?12l[?25h[?25l[9;48H[K[9;48H[?12l[?25h[?25l[9;47H[K[9;47H[?12l[?25h[?25l[9;46H[K[9;46H[?12l[?25h[?25l[9;45H[K[9;45H[?12l[?25h[?25l[9;43H[K[9;43H[?12l[?25h[?25l[9;42H[K[9;42H[?12l[?25h[?25l[9;40H[K[9;40H[?12l[?25h[?25l[9;39H[K[9;39H[?12l[?25h[?25l[?12l[?25h[?25l[9;37H[K[9;37H[?12l[?25h[?25l[9;36H[K[9;36H[?12l[?25h[?25l[9;35H[K[9;35H[?12l[?25h[?25l[9;33H[K[9;33H[?12l[?25h[?25l[9;32H[K[9;32H[?12l[?25h[?25l[9;31H[K[9;31H[?12l[?25h[?25l[9;30H[K[9;30H[?12l[?25h[?25l[9;29H[K[9;29H[?12l[?25h[?25l[9;28H[K[9;28H[?12l[?25h[?25l[?12l[?25h[?25l[9;26H[K[9;26H[?12l[?25h[?25l[?12l[?25h[?25l[9;24H[K[9;24H[?12l[?25h[?25l[9;23H[K[9;23H[?12l[?25h[?25l[9;22H[K[9;22H[?12l[?25h[?25l[9;21H[K[9;21H[?12l[?25h[?25l[9;20H[K[9;20H[?12l[?25h[?25l[9;19H[K[9;19H[?12l[?25h[?25l[9;18H[K[9;18H[?12l[?25h[?25l[9;17H[K[9;17H[?12l[?25h[?25l[9;15H[K[9;15H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[1m[34m~                                                                                                                             [8;14H[?12l[?25h[?25l[m[8;13H[K[8;13H[?12l[?25h[?25l[?12l[?25h[?25l[8;11H[K[8;11H[?12l[?25h[?25l[8;10H[K[8;10H[?12l[?25h[?25l[8;8H[K[8;8H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[1m[34m~                                                                                                                             [7;55H[?12l[?25h[?25l[m[7;54H[K[7;54H[?12l[?25h[?25l[?12l[?25h[?25l[7;52H[K[7;52H[?12l[?25h[?25l[7;51H[K[7;51H[?12l[?25h[?25l[7;50H[K[7;50H[?12l[?25h[?25l[7;49H[K[7;49H[?12l[?25h[?25l[?12l[?25h[?25l[7;47H[K[7;47H[?12l[?25h[?25l[7;46H[K[7;46H[?12l[?25h[?25l[7;45H[K[7;45H[?12l[?25h[?25l[7;44H[K[7;44H[?12l[?25h[?25l[7;43H[K[7;43H[?12l[?25h[?25l[7;42H[K[7;42H[?12l[?25h[?25l[?12l[?25h[?25l[7;40H[K[7;40H[?12l[?25h[?25l[7;39H[K[7;39H[?12l[?25h[?25l[7;38H[K[7;37H[?12l[?25h[?25l[7;36H[K[7;36H[?12l[?25h[?25l[7;34H[K[7;34H[?12l[?25h[?25l[7;33H[K[7;33H[?12l[?25h[?25l[7;32H[K[7;32H[?12l[?25h[?25l[7;31H[K[7;31H[?12l[?25h[?25l[7;30H[K[7;30H[?12l[?25h[?25l[7;29H[K[7;29H[?12l[?25h[?25l[7;28H[K[7;28H[?12l[?25h[?25l[7;27H[K[7;27H[?12l[?25h[?25l[?12l[?25h[?25l[7;25H[K[7;25H[?12l[?25h[?25l[7;24H[K[7;24H[?12l[?25h[?25l[7;22H[K[7;22H[?12l[?25h[?25l[7;21H[K[7;21H[?12l[?25h[?25l[7;20H[K[7;20H[?12l[?25h[?25l[7;19H[K[7;19H[?12l[?25h[?25l[7;18H[K[7;18H[?12l[?25h[?25l[?12l[?25h[?25l[7;16H[K[7;16H[?12l[?25h[?25l[7;15H[K[7;15H[?12l[?25h[?25l[7;14H[K[7;14H[?12l[?25h[?25l[7;13H[K[7;13H[?12l[?25h[?25l[7;12H[K[7;12H[?12l[?25h[?25l[7;11H[K[7;11H[?12l[?25h[?25l[7;10H[K[7;10H[?12l[?25h[?25l[7;8H[K[7;8H[?12l[?25h[?25l[7;7H[K[7;7H[?12l[?25h[?25l[7;6H[K[7;5H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[1m[34m~                                                                                                                             [6;7H[?12l[?25h[?25l[m[6;6H[K[6;6H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[5;9H[K[6;1H[1m[34m~                                                                                                                             [5;9H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l~                                                                                                                             [4;12H[?12l[?25h[?25l[m[4;11H[K[4;11H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[3;15H[K[4;1H[1m[34m~                                                                                                                             [3;15H[?12l[?25h[?25l[m[3;14H[K[3;14H[?12l[?25h[?25l[3;13H[K[3;13H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[1m[34m~                                                                                                                             [2;55H[?12l[?25h[?25l[m[2;54H[K[2;54H[?12l[?25h[?25l[2;53H[K[2;53H[?12l[?25h[?25l[2;52H[K[2;52H[?12l[?25h[?25l[?12l[?25h[?25l[2;50H[K[2;50H[?12l[?25h[?25l[2;49H[K[2;49H[?12l[?25h[?25l[2;48H[K[2;48H[?12l[?25h[?25l[2;47H[K[2;47H[?12l[?25h[?25l[2;46H[K[2;46H[?12l[?25h[?25l[2;45H[K[2;45H[?12l[?25h[?25l[2;43H[K[2;43H[?12l[?25h[?25l[?12l[?25h[?25l[2;41H[K[2;41H[?12l[?25h[?25l[2;40H[K[2;40H[?12l[?25h[?25l[?12l[?25h[?25l[2;38H[K[2;38H[?12l[?25h[?25l[2;37H[K[2;37H[?12l[?25h[?25l[2;36H[K[2;36H[?12l[?25h[?25l[2;35H[K[2;35H[?12l[?25h[?25l[2;34H[K[2;34H[?12l[?25h[?25l[2;33H[K[2;33H[?12l[?25h[?25l[2;32H[K[2;32H[?12l[?25h[?25l[2;31H[K[2;31H[?12l[?25h[?25l[2;30H[K[2;30H[?12l[?25h[?25l[2;29H[K[2;29H[?12l[?25h[?25l[2;28H[K[2;28H[?12l[?25h[?25l[2;27H[K[2;27H[?12l[?25h[?25l[2;26H[K[2;26H[?12l[?25h[?25l[2;25H[K[2;25H[?12l[?25h[?25l[2;24H[K[2;24H[?12l[?25h[?25l[2;23H[K[2;23H[?12l[?25h[?25l[2;22H[K[2;22H[?12l[?25h[?25l[?12l[?25h[?25l[2;19H[K[2;19H[?12l[?25h[?25l[2;18H[K[2;18H[?12l[?25h[?25l[2;17H[K[2;17H[?12l[?25h[?25l[2;16H[K[2;16H[?12l[?25h[?25l[2;15H[K[2;15H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[1m[34m~                                                                                                                             [1;52H[?12l[?25h[?25l[m[1;50H[K[1;50H[?12l[?25h[?25l[1;49H[K[1;49H[?12l[?25h[?25l[1;47H[K[1;47H[?12l[?25h[?25l[1;46H[K[1;46H[?12l[?25h[?25l[1;45H[K[1;45H[?12l[?25h[?25l[1;44H[K[1;44H[?12l[?25h[?25l[1;43H[K[1;43H[?12l[?25h[?25l[1;42H[K[1;42H[?12l[?25h[?25l[1;41H[K[1;41H[?12l[?25h[?25l[1;40H[K[1;40H[?12l[?25h[?25l[?12l[?25h[?25l[1;38H[K[1;38H[?12l[?25h[?25l[1;37H[K[1;37H[?12l[?25h[?25l[?12l[?25h[?25l[1;35H[K[1;35H[?12l[?25h[?25l[1;34H[K[1;34H[?12l[?25h[?25l[1;33H[K[1;33H[?12l[?25h[?25l[1;32H[K[1;32H[?12l[?25h[?25l[1;31H[K[1;31H[?12l[?25h[?25l[1;30H[K[1;30H[?12l[?25h[?25l[1;29H[K[1;29H[?12l[?25h[?25l[1;28H[K[1;28H[?12l[?25h[?25l[1;27H[K[1;27H[?12l[?25h[?25l[1;26H[K[1;26H[?12l[?25h[?25l[1;24H[K[1;24H[?12l[?25h[?25l[1;23H[K[1;23H[?12l[?25h[?25l[1;22H[K[1;21H[?12l[?25h[?25l[1;20H[K[1;20H[?12l[?25h[?25l[1;19H[K[1;19H[?12l[?25h[?25l[1;18H[K[1;18H[?12l[?25h[?25l[1;16H[K[1;16H[?12l[?25h[?25l[1;15H[K[1;15H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[14Cheroku create $STAGING || echo "project already exist"[?12l[?25h[?25l[1;68H[K[1;68H[?12l[?25h[?25l[1;67H[K[1;67H[?12l[?25h[?25l[1;66H[K[1;66H[?12l[?25h[?25l[1;65H[K[1;65H[?12l[?25h[?25l[1;64H[K[1;64H[?12l[?25h[?25l[1;63H[K[1;63H[?12l[?25h[?25l[1;61H[K[1;61H[?12l[?25h[?25l[1;60H[K[1;60H[?12l[?25h[?25l[1;59H[K[1;59H[?12l[?25h[?25l[1;58H[K[1;58H[?12l[?25h[?25l[1;57H[K[1;57H[?12l[?25h[?25l[1;56H[K[1;56H[?12l[?25h[?25l[1;55H[K[1;55H[?12l[?25h[?25l[?12l[?25h[?25l[1;53H[K[1;53H[?12l[?25h[?25l[1;52H[K[1;52H[?12l[?25h[?25l[1;51H[K[1;51H[?12l[?25h[?25l[1;50H[K[1;50H[?12l[?25h[?25l[1;49H[K[1;49H[?12l[?25h[?25l[1;48H[K[1;48H[?12l[?25h[?25l[1;47H[K[1;47H[?12l[?25h[?25l[1;46H[K[1;46H[?12l[?25h[?25l[1;44H[K[1;44H[?12l[?25h[?25l[1;42H[K[1;42H[?12l[?25h[?25l[1;41H[K[1;41H[?12l[?25h[?25l[1;39H[K[1;39H[?12l[?25h[?25l[1;38H[K[1;38H[?12l[?25h[?25l[1;36H[K[1;36H[?12l[?25h[?25l[1;35H[K[1;35H[?12l[?25h[?25l[1;33H[K[1;33H[?12l[?25h[?25l[1;32H[K[1;32H[?12l[?25h[?25l[1;30H[K[1;30H[?12l[?25h[?25l[1;29H[K[1;29H[?12l[?25h[?25l[?12l[?25h[?25l[1;27H[K[1;27H[?12l[?25h[?25l[1;26H[K[1;26H[?12l[?25h[?25l[1;25H[K[1;25H[?12l[?25h[?25l[1;24H[K[1;24H[?12l[?25h[?25l[1;23H[K[1;23H[?12l[?25h[?25l[1;22H[K[1;22H[?12l[?25h[?25l[?12l[?25h[?25l[1;19H[K[1;19H[?12l[?25h[?25l[1;18H[K[1;18H[?12l[?25h[?25l[1;16H[K[1;16H[?12l[?25h[?25l[1;15H[K[1;15H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[14Cheroku container:login[?12l[?25h[?25l[1;36H[K[1;36H[?12l[?25h[?25l[1;35H[K[1;35H[?12l[?25h[?25l[1;34H[K[1;34H[?12l[?25h[?25l[1;32H[K[1;32H[?12l[?25h[?25l[1;31H[K[1;31H[?12l[?25h[?25l[1;30H[K[1;30H[?12l[?25h[?25l[1;29H[K[1;29H[?12l[?25h[?25l[1;28H[K[1;28H[?12l[?25h[?25l[1;27H[K[1;27H[?12l[?25h[?25l[1;26H[K[1;26H[?12l[?25h[?25l[1;25H[K[1;25H[?12l[?25h[?25l[1;24H[K[1;24H[?12l[?25h[?25l[1;23H[K[1;23H[?12l[?25h[?25l[1;22H[K[1;22H[?12l[?25h[?25l[?12l[?25h[?25l[1;20H[K[1;20H[?12l[?25h[?25l[1;18H[K[1;18H[?12l[?25h[?25l[1;16H[K[1;16H[?12l[?25h[?25l[1;15H[K[1;15H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[12Csh '''[?12l[?25h[?25l[1;18H[K[1;18H[?12l[?25h[?25l[1;17H[K[1;17H[?12l[?25h[?25l[1;16H[K[1;16H[?12l[?25h[?25l[?12l[?25h[?25l[1;14H[K[1;14H[?12l[?25h[?25l[1;13H[K[1;13H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[10Cscript {[?12l[?25h[?25l[1;18H[K[1;18H[?12l[?25h[?25l[?12l[?25h[?25l[1;16H[K[1;16H[?12l[?25h[?25l[1;15H[K[1;15H[?12l[?25h[?25l[1;13H[K[1;13H[?12l[?25h[?25l[1;12H[K[1;12H[?12l[?25h[?25l[1;11H[K[1;11H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l      steps {[?12l[?25h[?25l[1;13H[K[1;13H[?12l[?25h[?25l[?12l[?25h[?25l[1;11H[K[1;11H[?12l[?25h[?25l[1;10H[K[1;10H[?12l[?25h[?25l[1;8H[K[1;8H[?12l[?25h[?25l[1;7H[K[1;7H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l      }[?12l[?25h[?25l[1;7H[K[1;7H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[10CHEROKU_API_KEY = credentials('heroku_api_key'[?12l[?25h[?25l[1;55H[K[1;55H[?12l[?25h[?25l[1;54H[K[1;54H[?12l[?25h[?25l[1;53H[K[1;53H[?12l[?25h[?25l[1;52H[K[1;52H[?12l[?25h[?25l[1;50H[K[1;50H[?12l[?25h[?25l[1;49H[K[1;49H[?12l[?25h[?25l[1;48H[K[1;48H[?12l[?25h[?25l[1;47H[K[1;47H[?12l[?25h[?25l[1;46H[K[1;46H[?12l[?25h[?25l[1;45H[K[1;45H[?12l[?25h[?25l[1;44H[K[1;44H[?12l[?25h[?25l[1;42H[K[1;42H[?12l[?25h[?25l[1;41H[K[1;41H[?12l[?25h[?25l[1;40H[K[1;40H[?12l[?25h[?25l[1;39H[K[1;39H[?12l[?25h[?25l[1;38H[K[1;38H[?12l[?25h[?25l[1;37H[K[1;37H[?12l[?25h[?25l[1;36H[K[1;36H[?12l[?25h[?25l[1;34H[K[1;34H[?12l[?25h[?25l[1;33H[K[1;33H[?12l[?25h[?25l[1;31H[K[1;31H[?12l[?25h[?25l[1;30H[K[1;30H[?12l[?25h[?25l[1;29H[K[1;29H[?12l[?25h[?25l[1;28H[K[1;27H[?12l[?25h[?25l[1;26H[K[1;26H[?12l[?25h[?25l[?12l[?25h[?25l[1;24H[K[1;24H[?12l[?25h[?25l[1;23H[K[1;23H[?12l[?25h[?25l[1;22H[K[1;22H[?12l[?25h[?25l[1;21H[K[1;21H[?12l[?25h[?25l[1;19H[K[1;19H[?12l[?25h[?25l[1;18H[K[1;18H[?12l[?25h[?25l[1;17H[K[1;17H[?12l[?25h[?25l[1;16H[K[1;16H[?12l[?25h[?25l[1;15H[K[1;15H[?12l[?25h[?25l[1;14H[K[1;14H[?12l[?25h[?25l[1;13H[K[1;13H[?12l[?25h[?25l[1;12H[K[1;12H[?12l[?25h[?25l[1;11H[K[1;11H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l      environment {[?12l[?25h[?25l[1;19H[K[1;19H[?12l[?25h[?25l[?12l[?25h[?25l[1;17H[K[1;17H[?12l[?25h[?25l[1;16H[K[1;16H[?12l[?25h[?25l[1;15H[K[1;15H[?12l[?25h[?25l[1;14H[K[1;14H[?12l[?25h[?25l[1;13H[K[1;13H[?12l[?25h[?25l[1;12H[K[1;12H[?12l[?25h[?25l[1;11H[K[1;11H[?12l[?25h[?25l[1;10H[K[1;10H[?12l[?25h[?25l[1;9H[K[1;9H[?12l[?25h[?25l[1;8H[K[1;8H[?12l[?25h[?25l[1;7H[K[1;7H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l      agent any[?12l[?25h[?25l[1;15H[K[1;15H[?12l[?25h[?25l[1;14H[K[1;14H[?12l[?25h[?25l[1;13H[K[1;13H[?12l[?25h[?25l[?12l[?25h[?25l[1;11H[K[1;11H[?12l[?25h[?25l[1;10H[K[1;10H[?12l[?25h[?25l[1;9H[K[1;9H[?12l[?25h[?25l[1;8H[K[1;8H[?12l[?25h[?25l[1;7H[K[1;7H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[12C}[?12l[?25h[?25l[1;13H[K[1;13H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[14Cexpression { GIT_BRANCH == 'origin/master' }[?12l[?25h[?25l[1;58H[K[1;58H[?12l[?25h[?25l[?12l[?25h[?25l[1;56H[K[1;56H[?12l[?25h[?25l[1;55H[K[1;55H[?12l[?25h[?25l[1;53H[K[1;53H[?12l[?25h[?25l[1;52H[K[1;52H[?12l[?25h[?25l[1;51H[K[1;51H[?12l[?25h[?25l[1;50H[K[1;50H[?12l[?25h[?25l[1;49H[K[1;49H[?12l[?25h[?25l[1;47H[K[1;47H[?12l[?25h[?25l[1;46H[K[1;46H[?12l[?25h[?25l[1;45H[K[1;45H[?12l[?25h[?25l[1;44H[K[1;44H[?12l[?25h[?25l[1;43H[K[1;43H[?12l[?25h[?25l[1;42H[K[1;42H[?12l[?25h[?25l[?12l[?25h[?25l[1;40H[K[1;40H[?12l[?25h[?25l[1;39H[K[1;39H[?12l[?25h[?25l[?12l[?25h[?25l[1;36H[K[1;36H[?12l[?25h[?25l[1;35H[K[1;35H[?12l[?25h[?25l[1;34H[K[1;34H[?12l[?25h[?25l[1;32H[K[1;32H[?12l[?25h[?25l[1;30H[K[1;30H[?12l[?25h[?25l[1;29H[K[1;29H[?12l[?25h[?25l[1;28H[K[1;27H[?12l[?25h[?25l[1;26H[K[1;26H[?12l[?25h[?25l[?12l[?25h[?25l[1;24H[K[1;24H[?12l[?25h[?25l[1;23H[K[1;23H[?12l[?25h[?25l[1;22H[K[1;22H[?12l[?25h[?25l[1;21H[K[1;21H[?12l[?25h[?25l[1;20H[K[1;20H[?12l[?25h[?25l[1;19H[K[1;19H[?12l[?25h[?25l[1;18H[K[1;18H[?12l[?25h[?25l[1;16H[K[1;16H[?12l[?25h[?25l[1;15H[K[1;15H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[7Cwhen {[?12l[?25h[?25l[1;13H[K[1;13H[?12l[?25h[?25l[?12l[?25h[?25l[1;11H[K[1;11H[?12l[?25h[?25l[1;9H[K[1;9H[?12l[?25h[?25l[1;8H[K[1;8H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l     stage('Push image in staging and deploy it') {[?12l[?25h[?25l[1;51H[K[1;51H[?12l[?25h[?25l[?12l[?25h[?25l[1;49H[K[1;49H[?12l[?25h[?25l[1;48H[K[1;48H[?12l[?25h[?25l[1;47H[K[1;47H[?12l[?25h[?25l[1;46H[K[1;46H[?12l[?25h[?25l[?12l[?25h[?25l[1;44H[K[1;44H[?12l[?25h[?25l[1;42H[K[1;42H[?12l[?25h[?25l[1;41H[K[1;41H[?12l[?25h[?25l[1;40H[K[1;40H[?12l[?25h[?25l[1;39H[K[1;38H[?12l[?25h[?25l[1;37H[K[1;37H[?12l[?25h[?25l[1;36H[K[1;36H[?12l[?25h[?25l[1;35H[K[1;35H[?12l[?25h[?25l[?12l[?25h[?25l[1;33H[K[1;33H[?12l[?25h[?25l[1;32H[K[1;32H[?12l[?25h[?25l[1;31H[K[1;31H[?12l[?25h[?25l[1;29H[K[1;29H[?12l[?25h[?25l[1;27H[K[1;27H[?12l[?25h[?25l[?12l[?25h[?25l[1;25H[K[1;25H[?12l[?25h[?25l[1;24H[K[1;24H[?12l[?25h[?25l[?12l[?25h[?25l[1;22H[K[1;22H[?12l[?25h[?25l[1;21H[K[1;21H[?12l[?25h[?25l[1;20H[K[1;20H[?12l[?25h[?25l[1;19H[K[1;19H[?12l[?25h[?25l[1;18H[K[1;18H[?12l[?25h[?25l[?12l[?25h[?25l[1;16H[K[1;16H[?12l[?25h[?25l[1;15H[K[1;15H[?12l[?25h[?25l[1;14H[K[1;14H[?12l[?25h[?25l[1;13H[K[1;13H[?12l[?25h[?25l[1;11H[K[1;11H[?12l[?25h[?25l[1;10H[K[1;10H[?12l[?25h[?25l[1;9H[K[1;9H[?12l[?25h[?25l[1;8H[K[1;8H[?12l[?25h[?25l[1;6H[K[1;6H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l     [?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[10C}[?12l[?25h[?25l[1;11H[K[1;11H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[13C[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[15C'''[?12l[?25h[?25l[1;18H[K[1;18H[?12l[?25h[?25l[1;17H[K[1;17H[?12l[?25h[?25l[1;16H[K[1;16H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[18Cdocker rm -vf ${IMAGE_NAME}[?12l[?25h[?25l[1;45H[K[1;45H[?12l[?25h[?25l[1;44H[K[1;44H[?12l[?25h[?25l[1;43H[K[1;43H[?12l[?25h[?25l[1;42H[K[1;42H[?12l[?25h[?25l[1;41H[K[1;41H[?12l[?25h[?25l[1;39H[K[1;39H[?12l[?25h[?25l[1;38H[K[1;38H[?12l[?25h[?25l[1;36H[K[1;36H[?12l[?25h[?25l[1;35H[K[1;35H[?12l[?25h[?25l[1;34H[K[1;34H[?12l[?25h[?25l[1;33H[K[1;33H[?12l[?25h[?25l[?12l[?25h[?25l[1;31H[K[1;31H[?12l[?25h[?25l[1;30H[K[1;30H[?12l[?25h[?25l[1;29H[K[1;29H[?12l[?25h[?25l[?12l[?25h[?25l[1;27H[K[1;27H[?12l[?25h[?25l[1;26H[K[1;26H[?12l[?25h[?25l[1;24H[K[1;24H[?12l[?25h[?25l[1;23H[K[1;23H[?12l[?25h[?25l[1;22H[K[1;22H[?12l[?25h[?25l[1;21H[K[1;21H[?12l[?25h[?25l[1;19H[K[1;19H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[15Csh '''[?12l[?25h[?25l[1;21H[K[1;21H[?12l[?25h[?25l[1;20H[K[1;20H[?12l[?25h[?25l[1;19H[K[1;19H[?12l[?25h[?25l[?12l[?25h[?25l[1;16H[K[1;16H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[13Cscript {[?12l[?25h[?25l[1;21H[K[1;21H[?12l[?25h[?25l[?12l[?25h[?25l[1;19H[K[1;19H[?12l[?25h[?25l[1;18H[K[1;18H[?12l[?25h[?25l[1;17H[K[1;17H[?12l[?25h[?25l[1;16H[K[1;16H[?12l[?25h[?25l[1;14H[K[1;14H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[10Csteps {[?12l[?25h[?25l[1;17H[K[1;16H[?12l[?25h[?25l[1;15H[K[1;15H[?12l[?25h[?25l[1;14H[K[1;14H[?12l[?25h[?25l[1;13H[K[1;13H[?12l[?25h[?25l[1;12H[K[1;12H[?12l[?25h[?25l[1;11H[K[1;11H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[9Cagent any[?12l[?25h[?25l[1;19H[K[1;19H[?12l[?25h[?25l[1;18H[K[1;18H[?12l[?25h[?25l[1;17H[K[1;17H[?12l[?25h[?25l[?12l[?25h[?25l[1;15H[K[1;15H[?12l[?25h[?25l[1;13H[K[1;13H[?12l[?25h[?25l[1;12H[K[1;12H[?12l[?25h[?25l[1;11H[K[1;11H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l      stage('Clean Container') {[?12l[?25h[?25l[1;32H[K[1;32H[?12l[?25h[?25l[?12l[?25h[?25l[1;30H[K[1;30H[?12l[?25h[?25l[1;29H[K[1;29H[?12l[?25h[?25l[1;28H[K[1;28H[?12l[?25h[?25l[1;27H[K[1;27H[?12l[?25h[?25l[1;26H[K[1;26H[?12l[?25h[?25l[1;25H[K[1;25H[?12l[?25h[?25l[1;24H[K[1;24H[?12l[?25h[?25l[1;23H[K[1;23H[?12l[?25h[?25l[1;22H[K[1;22H[?12l[?25h[?25l[1;21H[K[1;21H[?12l[?25h[?25l[1;20H[K[1;20H[?12l[?25h[?25l[?12l[?25h[?25l[1;18H[K[1;18H[?12l[?25h[?25l[1;17H[K[1;17H[?12l[?25h[?25l[1;16H[K[1;16H[?12l[?25h[?25l[1;14H[K[1;14H[?12l[?25h[?25l[1;13H[K[1;13H[?12l[?25h[?25l[1;12H[K[1;12H[?12l[?25h[?25l[1;11H[K[1;11H[?12l[?25h[?25l[1;9H[K[1;9H[?12l[?25h[?25l[1;8H[K[1;8H[?12l[?25h[?25l[1;7H[K[1;6H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l     }[?12l[?25h[?25l[1;7H[K[1;7H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[11C}[?12l[?25h[?25l[1;12H[K[1;11H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[14C}[?12l[?25h[?25l[1;15H[K[1;15H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[16C'''[?12l[?25h[?25l[1;19H[K[1;19H[?12l[?25h[?25l[1;17H[K[1;17H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[20Ccurl http://172.17.0.1 | grep -q "Hello world"[?12l[?25h[?25l[1;66H[K[1;66H[?12l[?25h[?25l[1;65H[K[1;65H[?12l[?25h[?25l[1;64H[K[1;64H[?12l[?25h[?25l[1;63H[K[1;63H[?12l[?25h[?25l[1;62H[K[1;62H[?12l[?25h[?25l[1;61H[K[1;61H[?12l[?25h[?25l[?12l[?25h[?25l[1;59H[K[1;59H[?12l[?25h[?25l[1;58H[K[1;58H[?12l[?25h[?25l[1;57H[K[1;57H[?12l[?25h[?25l[1;56H[K[1;56H[?12l[?25h[?25l[1;55H[K[1;55H[?12l[?25h[?25l[1;54H[K[1;54H[?12l[?25h[?25l[?12l[?25h[?25l[1;52H[K[1;52H[?12l[?25h[?25l[1;51H[K[1;51H[?12l[?25h[?25l[?12l[?25h[?25l[1;49H[K[1;49H[?12l[?25h[?25l[1;48H[K[1;48H[?12l[?25h[?25l[1;47H[K[1;47H[?12l[?25h[?25l[1;46H[K[1;46H[?12l[?25h[?25l[1;44H[K[1;44H[?12l[?25h[?25l[?12l[?25h[?25l[1;41H[K[1;41H[?12l[?25h[?25l[1;40H[K[1;40H[?12l[?25h[?25l[1;39H[K[1;39H[?12l[?25h[?25l[1;38H[K[1;38H[?12l[?25h[?25l[1;37H[K[1;37H[?12l[?25h[?25l[1;36H[K[1;36H[?12l[?25h[?25l[1;35H[K[1;35H[?12l[?25h[?25l[1;34H[K[1;34H[?12l[?25h[?25l[1;33H[K[1;33H[?12l[?25h[?25l[1;31H[K[1;31H[?12l[?25h[?25l[1;30H[K[1;30H[?12l[?25h[?25l[1;28H[K[1;28H[?12l[?25h[?25l[1;27H[K[1;27H[?12l[?25h[?25l[1;26H[K[1;26H[?12l[?25h[?25l[?12l[?25h[?25l[1;23H[K[1;23H[?12l[?25h[?25l[1;22H[K[1;22H[?12l[?25h[?25l[1;21H[K[1;21H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[16Csh '''[?12l[?25h[?25l[1;22H[K[1;22H[?12l[?25h[?25l[1;21H[K[1;21H[?12l[?25h[?25l[1;20H[K[1;20H[?12l[?25h[?25l[?12l[?25h[?25l[1;18H[K[1;18H[?12l[?25h[?25l[1;17H[K[1;17H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[14Cscript {[?12l[?25h[?25l[1;22H[K[1;22H[?12l[?25h[?25l[?12l[?25h[?25l[1;20H[K[1;20H[?12l[?25h[?25l[1;19H[K[1;19H[?12l[?25h[?25l[1;18H[K[1;18H[?12l[?25h[?25l[1;17H[K[1;17H[?12l[?25h[?25l[1;16H[K[1;16H[?12l[?25h[?25l[1;15H[K[1;15H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[11Csteps {[?12l[?25h[?25l[1;18H[K[1;17H[?12l[?25h[?25l[1;16H[K[1;16H[?12l[?25h[?25l[1;15H[K[1;15H[?12l[?25h[?25l[1;14H[K[1;14H[?12l[?25h[?25l[1;13H[K[1;13H[?12l[?25h[?25l[1;12H[K[1;11H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[11Cagent any[?12l[?25h[?25l[1;20H[K[1;20H[?12l[?25h[?25l[1;18H[K[1;18H[?12l[?25h[?25l[?12l[?25h[?25l[1;16H[K[1;16H[?12l[?25h[?25l[1;15H[K[1;15H[?12l[?25h[?25l[1;14H[K[1;14H[?12l[?25h[?25l[1;13H[K[1;13H[?12l[?25h[?25l[1;12H[K[1;12H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[7Cstage('Test image') {[?12l[?25h[?25l[1;28H[K[1;28H[?12l[?25h[?25l[?12l[?25h[?25l[1;26H[K[1;26H[?12l[?25h[?25l[1;25H[K[1;25H[?12l[?25h[?25l[1;23H[K[1;23H[?12l[?25h[?25l[1;22H[K[1;22H[?12l[?25h[?25l[1;21H[K[1;21H[?12l[?25h[?25l[1;20H[K[1;20H[?12l[?25h[?25l[?12l[?25h[?25l[1;18H[K[1;18H[?12l[?25h[?25l[1;16H[K[1;16H[?12l[?25h[?25l[1;15H[K[1;15H[?12l[?25h[?25l[1;14H[K[1;14H[?12l[?25h[?25l[1;13H[K[1;13H[?12l[?25h[?25l[1;11H[K[1;11H[?12l[?25h[?25l[1;10H[K[1;10H[?12l[?25h[?25l[1;8H[K[1;8H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[7C}[?12l[?25h[?25l[1;8H[K[1;7H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[12C}[?12l[?25h[?25l[1;13H[K[1;13H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[14C}[?12l[?25h[?25l[1;16H[K[1;16H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[16C'''[?12l[?25h[?25l[1;20H[K[1;20H[?12l[?25h[?25l[1;18H[K[1;18H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[20Csleep [?12l[?25h[?25l[?12l[?25h[?25l[1;25H[K[1;25H[?12l[?25h[?25l[1;24H[K[1;24H[?12l[?25h[?25l[1;23H[K[1;23H[?12l[?25h[?25l[1;22H[K[1;22H[?12l[?25h[?25l[1;21H[K[1;21H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[20Cdocker run --name $IMAGE_NAME -d -p 80:5000 -e PORT=5000 $IMAGE_REPO/$IMAGE_NAME:$IMAGE_TAG[?12l[?25h[?25l[1;110H[K[1;110H[?12l[?25h[?25l[1;109H[K[1;109H[?12l[?25h[?25l[1;108H[K[1;108H[?12l[?25h[?25l[1;107H[K[1;107H[?12l[?25h[?25l[1;106H[K[1;106H[?12l[?25h[?25l[1;105H[K[1;105H[?12l[?25h[?25l[1;104H[K[1;104H[?12l[?25h[?25l[1;102H[K[1;102H[?12l[?25h[?25l[1;101H[K[1;101H[?12l[?25h[?25l[1;100H[K[1;100H[?12l[?25h[?25l[1;99H[K[1;99H[?12l[?25h[?25l[1;98H[K[1;98H[?12l[?25h[?25l[1;97H[K[1;97H[?12l[?25h[?25l[1;96H[K[1;96H[?12l[?25h[?25l[1;95H[K[1;95H[?12l[?25h[?25l[1;94H[K[1;94H[?12l[?25h[?25l[1;93H[K[1;93H[?12l[?25h[?25l[1;92H[K[1;92H[?12l[?25h[?25l[1;91H[K[1;91H[?12l[?25h[?25l[1;89H[K[1;89H[?12l[?25h[?25l[1;88H[K[1;88H[?12l[?25h[?25l[1;87H[K[1;87H[?12l[?25h[?25l[1;86H[K[1;86H[?12l[?25h[?25l[1;84H[K[1;84H[?12l[?25h[?25l[1;83H[K[1;83H[?12l[?25h[?25l[1;82H[K[1;82H[?12l[?25h[?25l[1;81H[K[1;81H[?12l[?25h[?25l[1;79H[K[1;79H[?12l[?25h[?25l[1;78H[K[1;78H[?12l[?25h[?25l[?12l[?25h[?25l[1;76H[K[1;76H[?12l[?25h[?25l[1;75H[K[1;75H[?12l[?25h[?25l[1;74H[K[1;74H[?12l[?25h[?25l[1;73H[K[1;73H[?12l[?25h[?25l[1;72H[K[1;72H[?12l[?25h[?25l[1;70H[K[1;70H[?12l[?25h[?25l[1;69H[K[1;69H[?12l[?25h[?25l[1;68H[K[1;67H[?12l[?25h[?25l[1;66H[K[1;66H[?12l[?25h[?25l[1;65H[K[1;64H[?12l[?25h[?25l[1;62H[K[1;62H[?12l[?25h[?25l[1;61H[K[1;61H[?12l[?25h[?25l[1;60H[K[1;60H[?12l[?25h[?25l[1;59H[K[1;59H[?12l[?25h[?25l[1;57H[K[1;57H[?12l[?25h[?25l[?12l[?25h[?25l[1;55H[K[1;55H[?12l[?25h[?25l[1;54H[K[1;53H[?12l[?25h[?25l[1;52H[K[1;52H[?12l[?25h[?25l[1;51H[K[1;51H[?12l[?25h[?25l[?12l[?25h[?25l[1;48H[K[1;48H[?12l[?25h[?25l[1;47H[K[1;47H[?12l[?25h[?25l[1;46H[K[1;46H[?12l[?25h[?25l[1;45H[K[1;45H[?12l[?25h[?25l[1;44H[K[1;44H[?12l[?25h[?25l[1;43H[K[1;43H[?12l[?25h[?25l[1;42H[K[1;42H[?12l[?25h[?25l[1;41H[K[1;41H[?12l[?25h[?25l[1;39H[K[1;39H[?12l[?25h[?25l[?12l[?25h[?25l[1;36H[K[1;36H[?12l[?25h[?25l[1;35H[K[1;35H[?12l[?25h[?25l[1;34H[K[1;34H[?12l[?25h[?25l[1;33H[K[1;33H[?12l[?25h[?25l[1;32H[K[1;32H[?12l[?25h[?25l[1;30H[K[1;30H[?12l[?25h[?25l[1;29H[K[1;29H[?12l[?25h[?25l[1;28H[K[1;28H[?12l[?25h[?25l[?12l[?25h[?25l[1;26H[K[1;26H[?12l[?25h[?25l[1;25H[K[1;25H[?12l[?25h[?25l[1;24H[K[1;24H[?12l[?25h[?25l[1;23H[K[1;23H[?12l[?25h[?25l[1;22H[K[1;22H[?12l[?25h[?25l[1;21H[K[1;21H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[17Csh '''[?12l[?25h[?25l[1;23H[K[1;23H[?12l[?25h[?25l[1;22H[K[1;22H[?12l[?25h[?25l[1;21H[K[1;21H[?12l[?25h[?25l[?12l[?25h[?25l[1;19H[K[1;19H[?12l[?25h[?25l[1;18H[K[1;18H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[33;1H[K[1;4H[?25l[?12l[?25h[?25l[33;1H:[?12l[?25hdg[?25l[1m[37m[41mE492: Not an editor command: dg[1;4H[?12l[?25h[?25l[27m[m[H[2J[1;16Hscript {
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;16H[?12l[?25h[?25l[27m[m[H[2J[1;13Hsteps {
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;13H[?12l[?25h[?25l[27m[m[H[2J[1;13Hagent any
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;13H[?12l[?25h[?25l[27m[m[H[2J[1;9Hstage('Run container based on builded image') {
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;9H[?12l[?25h[?25l[27m[m[H[2J[1;9H}
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;9H[?12l[?25h[?25l[27m[m[H[2J[1;14H}
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;14H[?12l[?25h[?25l[27m[m[H[2J[1;17H}
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;17H[?12l[?25h[?25l[27m[m[H[2J[1;19Hsh 'docker build -t $IMAGE_REPO/$IMAGE_NAME:$IMAGE_TAG .'
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;19H[?12l[?25h[?25l[27m[m[H[2J[1;17Hscript {
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;17H[?12l[?25h[?25l[27m[m[H[2J[1;14Hsteps {
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;14H[?12l[?25h[?25l[27m[m[H[2J[1;14Hagent any
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;14H[?12l[?25h[?25l[27m[m[H[2J[1;10Hstage('Build image') {
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;10H[?12l[?25h[?25l[27m[m[H[2J[1;6Hstages {
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;6H[?12l[?25h[?25l[27m[m[H[2J[1;6Hagent none
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;6H[?12l[?25h[?25l[27m[m[H[2J[1;6H}
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;6H[?12l[?25h[?25l[27m[m[H[2J[1;8HIMAGE_REPO = "ayoubmhellioui"
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;8H[?12l[?25h[?25l[27m[m[H[2J[1;8HPRODUCTION = "ayoub-production"
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;8H[?12l[?25h[?25l[27m[m[H[2J[1;8HSTAGING = "ayoub-staging"
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;8H[?12l[?25h[?25l[27m[m[H[2J[1;8HIMAGE_TAG = "latest"
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;8H[?12l[?25h[?25l[27m[m[H[2J[1;8HIMAGE_NAME = "alpinehelloworld"
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                                                                                                        [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;8H[?12l[?25h[?25l[27m[m[H[2J[1;6Henvironment {
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                             [6;1H~                                                                                                                             [7;1H~                                                                                                                             [8;1H~                                                                                                                             [9;1H~                                                                                                                             [10;1H~                                                                                                                             [11;1H~                                                                                                                             [12;1H~                                                                                                                             [13;1H~                                                                                                                             [14;1H~                                                                                                                             [15;1H~                                                                                                                             [16;1H~                                                                                                                             [17;1H~                                                                                                                             [18;1H~                                                                                                                             [19;1H~                                                                                                                             [20;1H~                                                                                                                             [21;1H~                                                                                                                             [22;1H~                                                                                                                             [23;1H~                                                                                                                             [24;1H~                                                                                                                             [25;1H~                                                                                                                             [26;1H~                                                                                                                             [27;1H~                                                                                                                             [28;1H~                                                                                                                             [29;1H~                                                                                                                             [30;1H~                                                                                                                             [31;1H~                                                                                                                             [32;1H~                                                                                                                             [1;6H[?12l[?25h[?25l[27m[m[H[2J[1;1Hpipeline {
[1m[34m~                                                                                                                             [3;1H~                                                                                                                             [4;1H~                                                                                                                             [5;1H~                                                                                                                                                                                     [32;1H~                                                                                                                             [1;1H[?12l[?25h[?25l[m[1;1H[K[33;1H--No lines in buffer--[1;1H[?12l[?25h[?25l
pipeline {[2;11H[K[2;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;13H[K[1;15Hheroku container:push -a $STAGING web
              heroku container:release -a $STAGING web
            '''[3;16H[K[4;1H          }[4;12H[K[5;1H        }[5;10H[K[6;1H     }[6;7H[K[7;1H     stage('Push image in production and deploy it') {[7;55H[K[8;1H       when {[8;14H[K[9;1H              expression { GIT_BRANCH == 'origin/master' }[9;59H[K[10;1H            }[10;14H[K[11;1H      agent any[11;16H[K[12;1H      environment {[12;20H[K[13;1H          HEROKU_API_KEY = credentials('heroku_api_key')[13;57H[K[14;1H      }  [14;10H[K[15;1H      steps {[15;14H[K[16;1H          script {[16;19H[K[17;1H            sh '''[17;19H[K[18;1H              heroku container:login[18;37H[K[19;1H              heroku create $PRODUCTION || echo "project already exist"[19;72H[K[20;1H              heroku container:push -a $PRODUCTION web[20;55H[K[21;1H              heroku container:release -a $PRODUCTION web[21;58H[K[22;1H            '''[22;16H[K[23;1H          }[23;12H[K[24;1H        }[24;10H[K[25;1H     }[25;7H[K[26;1H  }[26;4H[K[27;1H}[27;2H[K[28;1H     [28;6H[K[29;1H[K[30;1H        [30;9H[K[31;1H        [31;9H[K[32;1Hpipeline {[32;11H[K[32;1H[?12l[?25h[33;1H[K[32;1H[?25l[?12l[?25h[?25l
:[?12l[?25hwq[?25l"Jenkinsfile" 111L, 2911C written
[?1l>[?12l[?25h[?1049l]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ git add .
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ git commit -m "comi[Kmit jenkinsfile"
[master a48f35b] commit jenkinsfile
 Committer: centos <centos@localhost.localdomain>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 2 files changed, 177 insertions(+), 5 deletions(-)
 create mode 100644 {
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ git push origin [K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kvi Jenkinsfile 
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"Jenkinsfile" 111L, 2911C[2;1Hpeline {[3;6Henvironment {[4;8HIMAGE_NAME = "alpinehelloworld"[5;8HIMAGE_TAG = "latest"[6;8HSTAGING = "<prenom>-staging"[7;8HPRODUCTION = "<prenom>-production"[8;8HIMAGE_REPO = "<prenom>"[9;6H}[10;6Hagent none[11;6Hstages {[12;10Hstage('Build image') {[13;14Hagent any[14;14Hsteps {[15;17Hscript {[16;19Hsh 'docker build -t $IMAGE_REPO/$IMAGE_NAME:$IMAGE_TAG .'[17;17H}[18;14H}[19;9H}[20;9Hstage('Run container based on builded image') {[21;13Hagent any[22;13Hsteps {[23;16Hscript {[24;18Hsh '''[25;21Hdocker run --name $IMAGE_NAME -d -p 80:5000 -e PORT=5000 $IMAGE_REPO/$IMAGE_NAME:$IMAGE_TAG[26;21Hsleep 5[27;18H'''[28;16H}[29;13H}[30;8H}[31;8Hstage('Test image') {[32;12Hagent any[1;1H[?12l[?25h



       IMAGE_TAG = "lates[6;26H>[?25l[33;1H[1m-- INSERT --[m[33;13H[K[6;21H[?12l[?25hrenom>[?25l-staging"[6;35H[K[6;26H[?12l[?25h[?25l-staging"[6;34H[K[6;25H[?12l[?25h[?25l-staging"[6;33H[K[6;24H[?12l[?25h[?25l-staging"[6;32H[K[6;23H[?12l[?25h[?25l-staging"[6;31H[K[6;22H[?12l[?25h[?25l-staging"[6;30H[K[6;21H[?12l[?25h[?25l-staging"[6;29H[K[6;20H[?12l[?25h[?25l-staging"[6;28H[K[6;19H[?12l[?25h[?25la-staging"[6;20H[?12l[?25h[?25ly-staging"[6;21H[?12l[?25h[?25lo-staging"[6;22H[?12l[?25h[?25lu-staging"[6;23H[?12l[?25h[?25lb-staging"[6;24H[?12l[?25h[7;24Hrenom>[?25l-production"[7;41H[K[7;29H[?12l[?25h[?25l-production"[7;40H[K[7;28H[?12l[?25h[?25l-production"[7;39H[K[7;27H[?12l[?25h[?25l-production"[7;38H[K[7;26H[?12l[?25h[?25l-production"[7;37H[K[7;25H[?12l[?25h[?25l-production"[7;36H[K[7;24H[?12l[?25h[?25l-production"[7;35H[K[7;23H[?12l[?25h[?25l-production"[7;34H[K[7;22H[?12l[?25h[?25la-production"[7;23H[?12l[?25h[?25ly-production"[7;24H[?12l[?25h[?25lo-production"[7;25H[?12l[?25h[?25lu-production"[7;26H[?12l[?25h[?25lb-production"[7;27H[?12l[?25h[8;27Hom>[?25l"[8;30H[K[8;29H[?12l[?25h[?25l"[8;29H[K[8;28H[?12l[?25h[?25l"[8;28H[K[8;27H[?12l[?25h[?25l"[8;27H[K[8;26H[?12l[?25h[?25l"[8;26H[K[8;25H[?12l[?25h[?25l"[8;25H[K[8;24H[?12l[?25h[?25l"[8;24H[K[8;23H[?12l[?25h[?25l"[8;23H[K[8;22H[?12l[?25h[?25la"[?12l[?25h[?25ly"[?12l[?25h[?25lo"[?12l[?25h[?25lu"[?12l[?25h[?25lb"[?12l[?25h[?25lm"[?12l[?25h[?25lh"[?12l[?25h[?25le"[?12l[?25h[?25ll"[?12l[?25h[?25ll"[?12l[?25h[?25li"[?12l[?25h[?25lo"[?12l[?25h[?25lu"[?12l[?25h[?25li"[?12l[?25h[7;36H[6;33H[4;36H[3;19H[2;9H[1;1H[2;9H[?25lppeline {p[?12l[?25h[?25lipeline {pi[?12l[?25h[5;3H[8;3H[11;3H[14;3H[17;3H[20;3H[23;3H[26;3H[29;3H[32;3H[?25l[1;32r[1;1H[3M[1;33r[30;12Hsteps {[31;15Hscript {[32;17Hsh '''  [?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;21Hcurl http://172.17.0.1 | grep -q "Hello world"[31;17H'''[32;15H}  [?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;12H}[31;7H}[32;7Hstage('Clean Container') {  [?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;11Hagent any[31;11Hsteps {[32;14Hscript {  [?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;16Hsh '''[31;19Hdocker rm -vf ${IMAGE_NAME}[32;16H'''  [?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;14H}[31;11H}[32;6H}  [?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;5Hstage('Push image on dockerhub') {[31;12Hagent any[32;12Henvironment {  [?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;17HDOCKERHUB_LOGIN = credentials('<id de votre credentials dockerhub>')[32;13H}  [?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[31;12Hsteps {[32;16Hscript {  [?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;20Hsh '''  [?12l[?25h[31;3H[30;3H[29;1H[28;3H[27;3H[26;3H              DOCKERHUB_LOGIN = credentials('<id de votre credentials dockerhubb[?25li>')[?12l[?25h[?25l>')[26;85H[K[26;82H[?12l[?25h[?25l>')[26;84H[K[26;81H[?12l[?25h[?25l>')[26;82H[K[26;79H[?12l[?25h[?25l>')[26;81H[K[26;78H[?12l[?25h[?25l>')[26;80H[K[26;77H[?12l[?25h[?25l>')[26;79H[K[26;76H[?12l[?25h[?25l>')[26;78H[K[26;75H[?12l[?25h[?25l>')[26;77H[K[26;74H[?12l[?25h[?25l>')[26;76H[K[26;73H[?12l[?25h[?25l>')[26;75H[K[26;72H[?12l[?25h[?25l>')[26;74H[K[26;71H[?12l[?25h[?25l>')[26;72H[K[26;69H[?12l[?25h[?25l>')[26;71H[K[26;68H[?12l[?25h[?25l>')[26;69H[K[26;66H[?12l[?25h[?25l>')[26;68H[K[26;65H[?12l[?25h[?25l>')[26;67H[K[26;64H[?12l[?25h[?25l>')[26;66H[K[26;63H[?12l[?25h[?25l>')[26;65H[K[26;62H[?12l[?25h[?25l>')[26;64H[K[26;61H[?12l[?25h[?25l>')[26;63H[K[26;60H[?12l[?25h[?25l>')[26;61H[K[26;58H[?12l[?25h[?25l>')[26;60H[K[26;57H[?12l[?25h[?25l>')[26;59H[K[26;56H[?12l[?25h[?25l>')[26;58H[K[26;55H[?12l[?25h[?25l>')[26;57H[K[26;54H[?12l[?25h[?25l>')[26;56H[K[26;53H[?12l[?25h[?25l>')[26;55H[K[26;52H[?12l[?25h[?25l>')[26;54H[K[26;51H[?12l[?25h[?25l>')[26;53H[K[26;50H[?12l[?25h[?25l>')[26;52H[K[26;49H[?12l[?25h[?25l>')[26;51H[K[26;48H[?12l[?25h>[?25l')[26;50H[K[26;48H[?12l[?25h[?25ld')[?12l[?25h[?25lo')[?12l[?25h[?25lc')[?12l[?25h[?25lk')[?12l[?25h[?25le')[?12l[?25h[?25lr')[?12l[?25h[?25lh')[?12l[?25h[?25lu')[?12l[?25h[?25lb')[?12l[?25h[?25l_')[?12l[?25h[?25la')[?12l[?25h[?25ly')[?12l[?25h[?25lo')[?12l[?25h[?25lu')[?12l[?25h[?25lb')[?12l[?25h


[32;26H[?25l[1;32r[1;1H[3M[1;33r[30;20Hdocker login --username ${DOCKERHUB_LOGIN_USR} --password ${DOCKERHUB_LOGIN_PSW}[31;20Hdocker push ${IMAGE_REPO}/${IMAGE_NAME}:${IMAGE_TAG}[32;20H'''[?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;16H}[31;12H}[32;9H}[?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;6Hstage('Push image in staging and deploy it') {[31;8Hwhen {[32;15Hexpression { GIT_BRANCH == 'origin/master' }[?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;13H}[31;7Hagent any[32;7Henvironment {[?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;11HHEROKU_API_KEY = credentials('heroku_api_key')[31;7H}[32;7Hsteps {[?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;11Hscript {[31;13Hsh '''[32;15Hheroku container:login[?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;15Hheroku create $STAGING || echo "project already exist"[31;15Hheroku container:push -a $STAGING web[32;15Hheroku container:release -a $STAGING web[?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;13H'''[31;11H}[32;9H}[?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;6H}[31;6Hstage('Push image in production and deploy it') {[32;8Hwhen {[?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;15Hexpression { GIT_BRANCH == 'origin/master' }[31;13H}[32;7Hagent any[?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;7Henvironment {[31;11HHEROKU_API_KEY = credentials('heroku_api_key')[32;7H}  [?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;7Hsteps {[31;11Hscript {[32;13Hsh '''[?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;15Hheroku container:login[31;15Hheroku create $PRODUCTION || echo "project already exist"[32;15Hheroku container:push -a $PRODUCTION web[?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;15Hheroku container:release -a $PRODUCTION web[31;13H'''[32;11H}[?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;9H}[31;6H}
  }[?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;1H}

[?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[32;1Hpipeline {[?12l[?25h[29;1H[26;4H[23;12H[20;55H[17;19H[14;10H[17;19H[20;55H[23;12H[26;4H


[32;11H[?25l[32;10H[K[32;10H[?12l[?25h[?25l[?12l[?25h[?25l[32;8H[K[32;8H[?12l[?25h[?25l[32;7H[K[32;7H[?12l[?25h[?25l[32;6H[K[32;6H[?12l[?25h[?25l[32;5H[K[32;5H[?12l[?25h[?25l[32;4H[K[32;4H[?12l[?25h[?25l[32;3H[K[32;3H[?12l[?25h[?25l[32;2H[K[32;2H[?12l[?25h[?25l[32;1H[K[32;1H[?12l[?25h[?25l[1m[34m~                                                                                                                             [31;9H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l~                                                                                                                             [30;8H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l~                                                                                                                             [29;1H[?12l[?25h[?25l~                                                                                                                             [28;6H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l~                                                                                                                             [27;2H[?12l[?25h[24;2H[21;2H[18;2H[15;2H[12;2H[9;2H[6;2H[3;2H[?25l[1;32r[m[1;1H[4L[1;33r[1;11Hscript {[2;13Hsh '''[3;15Hheroku container:login[4;15Hheroku create $STAGING || echo "project already exist"[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;11HHEROKU_API_KEY = credentials('heroku_api_key')[2;7H}[3;7Hsteps {[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;13H}[2;7Hagent any[3;7Henvironment {[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;6Hstage('Push image in staging and deploy it') {[2;8Hwhen {[3;15Hexpression { GIT_BRANCH == 'origin/master' }[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;16H}[2;12H}[3;9H}[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;20Hdocker login --username ${DOCKERHUB_LOGIN_USR} --password ${DOCKERHUB_LOGIN_PSW}[2;20Hdocker push ${IMAGE_REPO}/${IMAGE_NAME}:${IMAGE_TAG}[3;20H'''[1;1H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;12Hsteps {[2;16Hscript {[3;20Hsh '''[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[2;13H}[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;12Hagent any[2;12Henvironment {[3;17HDOCKERHUB_LOGIN = credentials('dockerhub_ayoub')[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;11H}[2;6H}
    stage('Push image on dockerhub') {[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;19Hdocker rm -vf ${IMAGE_NAME}[2;16H'''[3;14H}[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;11Hsteps {[2;14Hscript {[3;16Hsh '''[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;7H}[2;7Hstage('Clean Container') {[3;11Hagent any[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;17H'''[2;15H}[3;12H}[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;15Hscript {[2;17Hsh '''[3;21Hcurl http://172.17.0.1 | grep -q "Hello world"[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;8Hstage('Test image') {[2;12Hagent any[3;12Hsteps {[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;16H}[2;13H}[3;8H}[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;21Hdocker run --name $IMAGE_NAME -d -p 80:5000 -e PORT=5000 $IMAGE_REPO/$IMAGE_NAME:$IMAGE_TAG[2;21Hsleep 5[3;18H'''[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;13Hsteps {[2;16Hscript {[3;18Hsh '''[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;9H}[2;9Hstage('Run container based on builded image') {[3;13Hagent any[1;2H[?12l[?25h[?25l[1;32r[1;1H[6L[1;33r[1;14Hagent any[2;14Hsteps {[3;17Hscript {[4;19Hsh 'docker build -t $IMAGE_REPO/$IMAGE_NAME:$IMAGE_TAG .'[5;17H}[6;14H}[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;6Hagent none[2;6Hstages {[3;10Hstage('Build image') {[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;8HPRODUCTION = "ayoub-production"[2;8HIMAGE_REPO = "ayoubmhellioui"[3;6H}[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[1;8HIMAGE_NAME = "alpinehelloworld"[2;8HIMAGE_TAG = "latest"[3;8HSTAGING = "ayoub-staging"[1;2H[?12l[?25h[?25l[1;32r[1;1H[3L[1;33r[2;1Hpipeline {[3;6Henvironment {[1;1H[?12l[?25h[33;1H[K[1;1H[?25l[?12l[?25h[?25l[33;1H:[?12l[?25hwq[?25l"Jenkinsfile" 106L, 2857C written
[?1l>[?12l[?25h[?1049l]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ gitt[K add 
Nothing specified, nothing added.
Maybe you wanted to say 'git add .'?
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ git add .
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ git commit -m "commi jenkinsfile"
[master b6ae29e] commi jenkinsfile
 Committer: centos <centos@localhost.localdomain>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 2 files changed, 73 insertions(+), 20 deletions(-)
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ git pus[K[K[K[K[K[K[Kgit commit -m "commi jenkinsfile"add .[K[K[7@vi Jenkinsfile[Cgit commit -m "commit jenkinsfile"add .[Kvi Jenkinsfile [7P       [C[K}[K  }   }   }  }  sh '''
              heroku container:login
              heroku create $PRODUCTION || echo "project already exist"
              heroku container:push -a $PRODUCTION web
              heroku container:release -a $PRODUCTION web
            '''[A[A[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[6Pdocker ps -a
[K
[K
[K
[K
[K[A[A[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Crm -f 051009ecd2c1ps -a[Kcurl -I 127.0.0.1[3P127.0.0.1[7Phistorydocker run --name alpinehelloworld -p 80:5000 -e PORT=5000 -d alpinehelloworld[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvi Dockerfile [K[1Pdocker imagesbuild -t alpinehelloworld:latest .[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[27Pvi Dockerfile [2@nano[C[C[C[C[C[C[C[C[C[C[C[Cls[Kgit clone https://github.com/ayoub-devops/alpinehelloworld.git[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccd alpinehelloworld/[Kls[Kgit clone https://github.com/ayoub-devops/alpinehelloworld.git[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[39Psudo yum install git -y[1Pmkdir alpinehelloworldsudo yum install git -ygit clone https://github.com/ayoub-devops/alpinehelloworld.git[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Kcd alpinehelloworld/git clone https://github.com/ayoub-devops/alpinehelloworld.git[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Knano Dockerfile [2Pvi[C[C[C[C[C[C[C[C[C[C[C[Cdocker build -t alpinehelloworld:latest .images[Kvi Dockerfile docker run --name alpinehelloworld -p 80:5000 -e PORT=5000 -d alpinehelloworld[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Chistory[Kcurl 127.0.0.1-I 127.0.0.1[5Pdocker ps -arm -f 051009ecd2c1ps -a[K            sh '''
              heroku container:login
              heroku create $PRODUCTION || echo "project already exist"
              heroku container:push -a $PRODUCTION web
              heroku container:release -a $PRODUCTION web
            '''[A[A[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}[K
[K
[K
[K
[K
[K[A[A[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[2P}}[K}[K[2P}        [7@vi Jenkinsfile[C[6Pgit add .commit -m "commit jenkinsfile"[19Pvi Jenkinsfile [7Pgit add[C.commit -m "commi jenkinsfile"[Kgit push origin master
Username for 'https://github.com': ayoub-devops
/
Password for 'https://ayoub-devops@github.com': 
Counting objects: 10, done.
Compressing objects:  12% (1/8)   Compressing objects:  25% (2/8)   Compressing objects:  37% (3/8)   Compressing objects:  50% (4/8)   Compressing objects:  62% (5/8)   Compressing objects:  75% (6/8)   Compressing objects:  87% (7/8)   Compressing objects: 100% (8/8)   Compressing objects: 100% (8/8), done.
Writing objects:  12% (1/8)   Writing objects:  25% (2/8)   Writing objects:  37% (3/8)   Writing objects:  62% (5/8)   Writing objects:  75% (6/8)   Writing objects:  87% (7/8)   Writing objects: 100% (8/8)   Writing objects: 100% (8/8), 11.58 KiB | 0 bytes/s, done.
Total 8 (delta 5), reused 0 (delta 0)
remote: Resolving deltas:   0% (0/5)[Kremote: Resolving deltas:  20% (1/5)[Kremote: Resolving deltas:  40% (2/5)[Kremote: Resolving deltas:  60% (3/5)[Kremote: Resolving deltas:  80% (4/5)[Kremote: Resolving deltas: 100% (5/5)[Kremote: Resolving deltas: 100% (5/5), completed with 2 local objects.[K
To https://github.com/ayoub-devops/alpinehelloworld.git
   5c66a1d..b6ae29e  master -> master
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ nan[K[K[Kcat Jenkinsfile 

pipeline {
     environment {
       IMAGE_NAME = "alpinehelloworld"
       IMAGE_TAG = "latest"
       STAGING = "ayoub-staging"
       PRODUCTION = "ayoub-production"
       IMAGE_REPO = "ayoubmhellioui"
     }
     agent none
     stages {
         stage('Build image') {
             agent any
             steps {
                script {
                  sh 'docker build -t $IMAGE_REPO/$IMAGE_NAME:$IMAGE_TAG .'
                }
             }
        }
        stage('Run container based on builded image') {
            agent any
            steps {
               script {
                 sh '''
                    docker run --name $IMAGE_NAME -d -p 80:5000 -e PORT=5000 $IMAGE_REPO/$IMAGE_NAME:$IMAGE_TAG
                    sleep 5
                 '''
               }
            }
       }
       stage('Test image') {
           agent any
           steps {
              script {
                sh '''
                    curl http://172.17.0.1 | grep -q "Hello world"
                '''
              }
           }
      }
      stage('Clean Container') {
          agent any
          steps {
             script {
               sh '''
                  docker rm -vf ${IMAGE_NAME}
               '''
             }
          }
     }
    stage('Push image on dockerhub') {
           agent any 
           environment {
                DOCKERHUB_LOGIN = credentials('dockerhub_ayoub')
                
            }

           steps {
               script {
                   sh '''
		   docker login --username ${DOCKERHUB_LOGIN_USR} --password ${DOCKERHUB_LOGIN_PSW}
                   docker push ${IMAGE_REPO}/${IMAGE_NAME}:${IMAGE_TAG}
                   '''
               }
           }
        }
     stage('Push image in staging and deploy it') {
       when {
              expression { GIT_BRANCH == 'origin/master' }
            }
      agent any
      environment {
          HEROKU_API_KEY = credentials('heroku_api_key')
      }
      steps {
          script {
            sh '''
              heroku container:login
              heroku create $STAGING || echo "project already exist"
              heroku container:push -a $STAGING web
              heroku container:release -a $STAGING web
            '''
          }
        }
     }
     stage('Push image in production and deploy it') {
       when {
              expression { GIT_BRANCH == 'origin/master' }
            }
      agent any
      environment {
          HEROKU_API_KEY = credentials('heroku_api_key')
      }  
      steps {
          script {
            sh '''
              heroku container:login
              heroku create $PRODUCTION || echo "project already exist"
              heroku container:push -a $PRODUCTION web
              heroku container:release -a $PRODUCTION web
            '''
          }
        }
     }
  }
}
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ 
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ sudo yum install nano
[sudo] password for centos: 
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: miroir.univ-paris13.fr
 * extras: miroir.univ-paris13.fr
 * updates: fr2.rpmfind.net
Resolving Dependencies
--> Running transaction check
---> Package nano.x86_64 0:2.3.1-10.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

==============================================================================================================================
 Package                    Arch                         Version                             Repository                  Size
==============================================================================================================================
Installing:
 nano                       x86_64                       2.3.1-10.el7                        base                       440 k

Transaction Summary
==============================================================================================================================
Install  1 Package

Total download size: 440 k
Installed size: 1.6 M
Is this ok [y/d/N]: y
Downloading packages:
nano-2.3.1-10.el7.x86_64.rpm                                                                           | 440 kB  00:00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : nano-2.3.1-10.el7.x86_64 [                                                                               ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [###                                                                            ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [######                                                                         ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [########                                                                       ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [#########                                                                      ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [##########                                                                     ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [###########                                                                    ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [##############                                                                 ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [#################                                                              ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [##################                                                             ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [###################                                                            ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [####################                                                           ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [#####################                                                          ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [######################                                                         ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [#########################                                                      ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [##########################                                                     ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [#############################                                                  ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [##############################                                                 ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [#################################                                              ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [##################################                                             ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [###################################                                            ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [#####################################                                          ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [########################################                                       ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [#########################################                                      ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [###########################################                                    ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [#############################################                                  ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [##############################################                                 ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [################################################                               ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [#################################################                              ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [###################################################                            ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [#####################################################                          ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [########################################################                       ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [#########################################################                      ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [##########################################################                     ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [#############################################################                  ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [##############################################################                 ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [###############################################################                ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [################################################################               ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [###################################################################            ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [####################################################################           ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [#####################################################################          ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [######################################################################         ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [#######################################################################        ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [#########################################################################      ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [###########################################################################    ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [#############################################################################  ] 1/1  Installing : nano-2.3.1-10.el7.x86_64 [############################################################################## ] 1/1  Installing : nano-2.3.1-10.el7.x86_64                                                                                   1/1 
  Verifying  : nano-2.3.1-10.el7.x86_64                                                                                   1/1 

Installed:
  nano.x86_64 0:2.3.1-10.el7                                                                                                  

Complete!
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ nano --version
 GNU nano version 2.3.1 (compiled 04:47:52, Jun 10 2014)
 (C) 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007,
 2008, 2009 Free Software Foundation, Inc.
 Email: nano@nano-editor.org	Web: http://www.nano-editor.org/
 Compiled options: --enable-color --enable-extra --enable-multibuffer --enable-nanorc --enable-utf8
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ nano re[K[KREADME.md
[?1049h[1;33r(B[m[4l[?7h[?12l[?25h[?1h=[?1h=[?1h=[39;49m[39;49m(B[m[H[2J(B[0;7m  GNU nano 2.3.1                             File: README.md                                                                  [31;58H[ New File ][32d^G(B[m Get Help[32;22H(B[0;7m^O(B[m WriteOut[32;43H(B[0;7m^R(B[m Read File[32;64H(B[0;7m^Y(B[m Prev Page[32;85H(B[0;7m^K(B[m Cut Text[32;106H(B[0;7m^C(B[m Cur Pos[33d(B[0;7m^X(B[m Exit[33;22H(B[0;7m^J(B[m Justify[33;43H(B[0;7m^W(B[m Where Is[33;64H(B[0;7m^V(B[m Next Page[33;85H(B[0;7m^U(B[m UnCut Text[33;106H(B[0;7m^T(B[m To Spell[3d[1;117H(B[0;7mModified[3d(B[m[![Build Status](http://192.168.31.128:8080/buildStatus/icon?job=deploiment)](http://192.168.31.128:8080/job/deploiment/)[31d[K[3;122H[31d(B[0;7mSave modified buffer (ANSWERING "No" WILL DESTROY CHANGES) ?                                                                  [32;1H Y(B[m Yes[K[33d(B[0;7m N(B[m No  [33;17H(B[0;7m^C(B[m Cancel[K[31;62H(B[0;7mFile Name to Write: README.md                               [32d^G(B[m Get Help[32;32H(B[0;7mM-D(B[m DOS Format[32;63H(B[0;7mM-A(B[m Append[32;94H(B[0;7mM-B(B[m Backup File[33d(B[0;7m^C(B[m Cancel	         [32G(B[0;7mM-M(B[m Mac Format[33;63H(B[0;7mM-P(B[m Prepend[31;30H[32d[39;49m(B[m[J[1;117H(B[0;7m        [31;55H(B[m[1K (B[0;7m[ Wrote 1 line ](B[m[K[33;126H[33;1H[?1049l[?1l>]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ git add .
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ git commit -m "commit with red[Kadme"
[master 1adabd6] commit with readme
 Committer: centos <centos@localhost.localdomain>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 2 files changed, 246 insertions(+), 28 deletions(-)
 create mode 100644 README.md
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ git push origin master
Username for 'https://github.com': ayoub-devops
Password for 'https://ayoub-devops@github.com': 
Counting objects: 6, done.
Compressing objects:  25% (1/4)   Compressing objects:  50% (2/4)   Compressing objects:  75% (3/4)   Compressing objects: 100% (4/4)   Compressing objects: 100% (4/4), done.
Writing objects:  25% (1/4)   Writing objects:  50% (2/4)   Writing objects:  75% (3/4)   Writing objects: 100% (4/4)   Writing objects: 100% (4/4), 3.86 KiB | 0 bytes/s, done.
Total 4 (delta 2), reused 0 (delta 0)
remote: Resolving deltas:   0% (0/2)[Kremote: Resolving deltas:  50% (1/2)[Kremote: Resolving deltas: 100% (2/2)[Kremote: Resolving deltas: 100% (2/2), completed with 2 local objects.[K
To https://github.com/ayoub-devops/alpinehelloworld.git
   b6ae29e..1adabd6  master -> master
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ history
    1  docker ps
    2  curl -fsSL https://get.docker.com -o get-docker.sh
    3  sh get-docker.sh
    4  docker ps
    5  sudodocker ps
    6  sudo systemctl start docker
    7  sudo systemctl enable docker
    8  sudo usermod -Ga docker centos
    9  sudo usermod -G docker centos
   10  docker ps
   11  ls
   12  mkdir jenkins
   13  cd jenkins/
   14  vi docker-compose.yml
   15  sudo curl -L "https://github.com/docker/compose/releases/download/1.29.1/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
   16  id
   17  cat /etc/groupps
   18  cat /etc/groups
   19  cat /etc/group
   20  sudo usermod -G wheel centos
   21  sudo su -
   22  su -
   23  id
   24  sudo usermod -g docker centos
   25  docker ps
   26  docker --version
   27  ls
   28  ll
   29  cd jenkins/
   30  sudo curl -L "https://github.com/docker/compose/releases/download/1.29.1/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
   31  sudo chmod +x /usr/local/bin/docker-compose
   32  docker-compose up -d
   33  sudo cat /var/lib/jenkins/secrets/initialAdminPassword
   34  cat /var/jenkins_home/secrets/initialAdminPassword
   35  docker exec -it jenkins_jenkins_1 cat /var/jenkins_home/secrets/initialAdminPassword
   36  docker ps -a
   37  docker images
   38  ls
   39  mkdir alpinehelloworld
   40  cd alpinehelloworld/
   41  git clone https://github.com/ayoub-devops/alpinehelloworld.git
   42  install git
   43  cd ..
   44  ls
   45  rmdir -f alpinehelloworld/
   46  rmdir -F alpinehelloworld/
   47  cd ..
   48  mkdir alpinehelloworld
   49  sudo yum install git -y
   50  git clone https://github.com/ayoub-devops/alpinehelloworld.git
   51  ls
   52  cd alpinehelloworld/
   53  git clone https://github.com/ayoub-devops/alpinehelloworld.git
   54  ls
   55  nano Dockerfile 
   56  vi Dockerfile 
   57  docker build -t alpinehelloworld:latest .
   58  docker images
   59  vi Dockerfile 
   60  docker run --name alpinehelloworld -p 80:5000 -e PORT=5000 -d alpinehelloworld
   61  history
   62  curl 127.0.0.1
   63  curl -I 127.0.0.1
   64  docker ps -a
   65  docker rm -f 051009ecd2c1
   66  docker ps -a
   67              sh '''
              heroku container:login
              heroku create $PRODUCTION || echo "project already exist"
              heroku container:push -a $PRODUCTION web
              heroku container:release -a $PRODUCTION web
            '''
   68            }
   69          }
   70       }
   71    }
   72  }
   73       
   74          
   75  vi Jenkinsfile 
   76  git add .
   77  git commit -m "commit jenkinsfile"
   78  vi Jenkinsfile 
   79  git add 
   80  git add .
   81  git commit -m "commi jenkinsfile"
   82  git push origin master
   83  cat Jenkinsfile 
   84  sudo yum install nano
   85  nano --version
   86  nano README.md
   87  git add .
   88  git commit -m "commit with readme"
   89  git push origin master
   90  history
]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ nano Jenkinsfile 
[?1049h[1;33r(B[m[4l[?7h[?12l[?25h[?1h=[?1h=[?1h=[39;49m[39;49m(B[m[H[2J(B[0;7m  GNU nano 2.3.1                             File: Jenkinsfile                                                                [4;1H(B[mpipeline {[5;6Henvironment {[6;8HIMAGE_NAME = "alpinehelloworld"[7;8HIMAGE_TAG = "latest"[8;8HSTAGING = "ayoub-staging"[9;8HPRODUCTION = "ayoub-production"[10;8HIMAGE_REPO = "ayoubmhellioui"[11;6H}[12dagent none[13;6Hstages {[14;10Hstage('Build image') {[15;14Hagent any[16;14Hsteps {[17;17Hscript {[18;19Hsh 'docker build -t $IMAGE_REPO/$IMAGE_NAME:$IMAGE_TAG .'[19;17H}[20;14H}[21d	}[22d	stage('Run container based on builded image') {[23;13Hagent any[24;13Hsteps {[25;16Hscript {[26;18Hsh '''[27;21Hdocker run --name $IMAGE_NAME -d -p 80:5000 -e PORT=5000 $IMAGE_REPO/$IMAGE_NAME:$IMAGE_TAG[28;21Hsleep 5[29;18H'''[30;16H}[31;55H(B[0;7m[ Read 106 lines ][32d^G(B[m Get Help[32;22H(B[0;7m^O(B[m WriteOut[32;43H(B[0;7m^R(B[m Read File[32;64H(B[0;7m^Y(B[m Prev Page[32;85H(B[0;7m^K(B[m Cut Text[32;106H(B[0;7m^C(B[m Cur Pos[33d(B[0;7m^X(B[m Exit[33;22H(B[0;7m^J(B[m Justify[33;43H(B[0;7m^W(B[m Where Is[33;64H(B[0;7m^V(B[m Next Page[33;85H(B[0;7m^U(B[m UnCut Text[33;106H(B[0;7m^T(B[m To Spell[3d[6d[9d[12d[15d[18d[21d[24d[27d[31d[K[A7[2;31r8[31d[15S[1;33r[2;1H[K[16;13H}[17;8H}[18dstage('Test image') {[19;12Hagent any[20;12Hsteps {[21;15Hscript {[22;17Hsh '''[23dcurl http://172.17.0.1 | grep -q "Hello world"[24;17H'''[25;15H}[26;12H}[27;7H}[28dstage('Clean Container') {[29;11Hagent any[30;11Hsteps {[18d[21d[24d[27d[30d7[2;31r8[31d[15S[1;33r[2;1H[K[16;14Hscript {[17;16Hsh '''[18;19Hdocker rm -vf ${IMAGE_NAME}[19;16H'''[20;14H}[21;11H}[22;6H}[23dstage('Push image on dockerhub') {[24;12Hagent any[25;12Henvironment {[26;17HDOCKERHUB_LOGIN = credentials('dockerhub_ayoub')[28;13H}[30dsteps {[18d[21d[24d[27d[30d[3;18H[1K docker rm -vf ${IMAGE_NAME}[4;12H    '''[K[5;12H  }[K[6;11H}[K[7;6H}[K[8dstage('Push image on dockerhub') {[K[9;12Hagent any[10;12Henvironment {[11;16H[1K	DOCKERHUB_LOGIN = credentials('dockerhub_ayoub')[12d[K[13;12H[1K }[K[14d[K[15d[15;11H steps {[16d[16;14H  script {[17d[17;16H    sh '''[18;19H docker login --username ${DOCKERHUB_LOGIN_USR} --password ${DOCKERHUB_LOGIN_PSW}[19;16H    docker push ${IMAGE_REPO}/${IMAGE_NAME}:${IMAGE_TAG}[20;19H[1K '''[21;15H[1K }[22;11H[1K }[23;5H    }[K[24;6Hstage('Push image in staging and deploy it') {[25;8Hwhen {[K[26d expression { GIT_BRANCH == 'origin/master' }[K[27;13H}[28;7Hagent any[29;7Henvironment {[30;11HHEROKU_API_KEY = credentials('heroku_api_key')[18d[21d[24d[27d[30d7[2;31r8[31d[15S[1;33r[2;1H[K[16;7H}[17dsteps {[18;11Hscript {[19;13Hsh '''[20;15Hheroku container:login[21;15Hheroku create $STAGING || echo "project already exist"[22;15Hheroku container:push -a $STAGING web[23;15Hheroku container:release -a $STAGING web[24;13H'''[25;11H}[26d	}[27;6H}[28dstage('Push image in production and deploy it') {[29;8Hwhen {[30d expression { GIT_BRANCH == 'origin/master' }[18d[21d[24d[27d[30d[7;30r[7;1H[4T[1;33r[3;11Hscript {[K[4;13Hsh '''[K[5;15Hheroku container:login[6;15Hheroku create $STAGING || echo "project already exist"[7;15Hheroku container:push -a $STAGING web[8;15Hheroku container:release -a $STAGING web[9;13H'''[10;11H}[11d	}[K[12;6H}[K[13;27Hproduction and deploy it') {[25;30HPRODUCTION || echo "project already exist"[26;41HPRODUCTION web[27;44HPRODUCTION web[18d[19d[A[A[A[A[A[A[A[13d    7[13;30r8M[1;33r[1;117H(B[0;7mModified[14d(B[m[4P[31d(B[0;7mSave modified buffer (ANSWERING "No" WILL DESTROY CHANGES) ?                                                                  [32;1H Y(B[m Yes[K[33d(B[0;7m N(B[m No  [33;17H(B[0;7m^C(B[m Cancel[K[31;62H[32d[J[33;126H[33;1H[?1049l[?1l>]0;centos@localhost:~/alpinehelloworld[centos@localhost alpinehelloworld]$ nano Jenkinsfile 
[?1049h[1;33r(B[m[4l[?7h[?12l[?25h[?1h=[?1h=[?1h=[39;49m[39;49m(B[m[H[2J(B[0;7m  GNU nano 2.3.1                             File: Jenkinsfile                                                                [4;1H(B[mpipeline {[5;6Henvironment {[6;8HIMAGE_NAME = "alpinehelloworld"[7;8HIMAGE_TAG = "latest"[8;8HSTAGING = "ayoub-staging"[9;8HPRODUCTION = "ayoub-production"[10;8HIMAGE_REPO = "ayoubmhellioui"[11;6H}[12dagent none[13;6Hstages {[14;10Hstage('Build image') {[15;14Hagent any[16;14Hsteps {[17;17Hscript {[18;19Hsh 'docker build -t $IMAGE_REPO/$IMAGE_NAME:$IMAGE_TAG .'[19;17H}[20;14H}[21d	}[22d	stage('Run container based on builded image') {[23;13Hagent any[24;13Hsteps {[25;16Hscript {[26;18Hsh '''[27;21Hdocker run --name $IMAGE_NAME -d -p 80:5000 -e PORT=5000 $IMAGE_REPO/$IMAGE_NAME:$IMAGE_TAG[28;21Hsleep 5[29;18H'''[30;16H}[31;55H(B[0;7m[ Read 106 lines ][32d^G(B[m Get Help[32;22H(B[0;7m^O(B[m WriteOut[32;43H(B[0;7m^R(B[m Read File[32;64H(B[0;7m^Y(B[m Prev Page[32;85H(B[0;7m^K(B[m Cut Text[32;106H(B[0;7m^C(B[m Cur Pos[33d(B[0;7m^X(B[m Exit[33;22H(B[0;7m^J(B[m Justify[33;43H(B[0;7m^W(B[m Where Is[33;64H(B[0;7m^V(B[m Next Page[33;85H(B[0;7m^U(B[m UnCut Text[33;106H(B[0;7m^T(B[m To Spell[3d[6d[9d[12d[15d[18d[21d[24d[27d[31d[K[A7[2;31r8[31d[15S[1;33r[2;1H[K[16;13H}[17;8H}[18dstage('Test image') {[19;12Hagent any[20;12Hsteps {[21;15Hscript {[22;17Hsh '''[23dcurl http://172.17.0.1 | grep -q "Hello world"[24;17H'''[25;15H}[26;12H}[27;7H}[28dstage('Clean Container') {[29;11Hagent any[30;11Hsteps {[18d[21d[24d[27d[30d7[2;31r8[31d[15S[1;33r[2;1H[K[16;14Hscript {[17;16Hsh '''[18;19Hdocker rm -vf ${IMAGE_NAME}[19;16H'''[20;14H}[21;11H}[22;6H}[23dstage('Push image on dockerhub') {[24;12Hagent any[25;12Henvironment {[26;17HDOCKERHUB_LOGIN = credentials('dockerhub_ayoub')[28;13H}[30dsteps {[18d[21d[24d[27d[30d[3;18H[1K docker rm -vf ${IMAGE_NAME}[4;12H    '''[K[5;12H  }[K[6;11H}[K[7;6H}[K[8dstage('Push image on dockerhub') {[K[9;12Hagent any[10;12Henvironment {[11;16H[1K	DOCKERHUB_LOGIN = credentials('dockerhub_ayoub')[12d[K[13;12H[1K }[K[14d[K[15d[15;11H steps {[16d[16;14H  script {[17d[17;16H    sh '''[18;19H docker login --username ${DOCKERHUB_LOGIN_USR} --password ${DOCKERHUB_LOGIN_PSW}[19;16H    docker push ${IMAGE_REPO}/${IMAGE_NAME}:${IMAGE_TAG}[20;19H[1K '''[21;15H[1K }[22;11H[1K }[23;5H    }[K[24;6Hstage('Push image in staging and deploy it') {[25;8Hwhen {[K[26d expression { GIT_BRANCH == 'origin/master' }[K[27;13H}[28;7Hagent any[29;7Henvironment {[30;11HHEROKU_API_KEY = credentials('heroku_api_key')[18d[21d[24d[27d[30d7[2;31r8[31d[15S[1;33r[2;1H[K[16;7H}[17dsteps {[18;11Hscript {[19;13Hsh '''[20;15Hheroku container:login[21;15Hheroku create $STAGING || echo "project already exist"[22;15Hheroku container:push -a $STAGING web[23;15Hheroku container:release -a $STAGING web[24;13H'''[25;11H}[26d	}[27;6H}[28dstage('Push image in production and deploy it') {[29;8Hwhen {[30d expression { GIT_BRANCH == 'origin/master' }[18d[21d[22d[23d[24d[25d[26d[27d     }[1;117H(B[0;7mModified[28d(B[m[K[29;6Hstage('Push image in production and deploy it') {[30;8Hwhen {[K[28d[29d[K[30;6Hstage('Push image in production and deploy it') {[A[A[25d[22d[19d[22d[25d[28d[21;31r[31;1H[2S[1;33r[3;7Hsteps {[K[4;11Hscript {[K[5;13Hsh '''[K[6;15Hheroku container:login[7;12H   heroku create $STAGING || echo "project already exist"[8;14H[1K heroku container:push -a $STAGING web[9;14H[1K heroku container:release -a $STAGING web[10;12H[1K '''[11;11H}[K[12d	}[K[13;6H}[K[14dstage('Test Staging deployment') {[15;8Hwhen {[K[16d[1K expression { GIT_BRANCH == 'origin/master' }[17;12H[1K }[18;11H agent any[19;12Hsteps {[20;15Hscript {[K[21;15H  sh '''[K[22;20H[1K curl https://${STAGING}.herokuapp.com | grep -q "Hello world"[23;16H[1K	'''[24;14H[1K }[25;11H[1K }[26;7H}[29dwhen {[30d expression { GIT_BRANCH == 'origin/master' }[26;8H[29d[9;17r[17;1H
[1;33r[3;11H[1K agent any[4;11H steps[5;13H  script {[6;15H  sh '''[K[7;20H[1K curl https://${STAGING}.herokuapp.com | grep -q "Hello world"[8;15H  '''[K[9;13H  }[10d[10;11H }[11;7H}[K[12d[K[13;13HPush image in production and deploy it') {[17;7Hagent any[18;7Henvironment {[K[19;11HHEROKU_API_KEY = credentials('heroku_api_key')[20;7H}[K[21dsteps {[K[22;11Hscript {[K[23;13Hsh '''[K[24;15Hheroku container:login[25;12H   heroku create $PRODUCTION || echo "project already exist"[26;14H[1K heroku container:push -a $PRODUCTION web[27;15Hheroku container:release -a $PRODUCTION web[28;12H[1K '''[K[29;8H   }[K[30d	}[K[17;8H[20d[23d[26d[29d[2;31r[31;1H[15S[1;33r[2;1H[K[16;6H}[17;3H}[18d}[A }[19d[A[A[A[A[13d[A[A[A[A[10d[11d[12d[13d[14d[15d[16d[17d[A     }7[17;31r8[17dM[1;33r[17;1H7[17;31r8M[1;33r[17;15Hheroku container:release -a $PRODUCTION web[18d[18;31r[31;1H
[1;33r[17;58H[Z [Z[K    [Z [Z  [K[K[Z[K     [Z [Z [K   [Z[K      [Z [Z [K[17;15H	    stage('Test Prod deployment') {[18;7H[1K when {[19d[1K expression { GIT_BRANCH == 'origin/master' }[20;13H}[21dagent any[22;12Hsteps {[23;15Hscript {[24;17Hsh '''[25dcurl https://${PRODUCTION}.herokuapp.com | grep -q "Hello world"[26;17H'''[27;3H}[28d}[26;20H7[27;31r8[27dM[1;33r[27;1H[27;15H}[28;11H[1K }[29d[K[30d  }[A  [2;31r[31;1H[15S[1;33r[2;1H[K[16d}[17d[A}[A }[A  [7G}[11d[8d[5d[2;31r[2;1H[15T[1;33r[3;7Henvironment {[4;11HHEROKU_API_KEY = credentials('heroku_api_key')[5;7H}[6dsteps {[7;11Hscript {[8;13Hsh '''[9;15Hheroku container:login[10;15Hhg and deploy it') {[25;8Hwhen {[K[26d expression { GIT_BRANCH == 'origin/master' }[K[27;13H}[28;7Hagent any[29;7Henvironment {[30;11HHEROKU_API_KEY = credentials('heroku_api_key')[18d[21d[24d[27d[30d7[2;31r8[31d[15S[1;33r[2;1H[K[16;7H}[17dsteps {[18;11Hscript {[19;13Hsh '''[20;15Hheroku container:login[21;15Hheroku create $STAGING || echo "project already exist"[22;15Hheroku container:push -a $STAGING web[23;15Hheroku container:release -a $STAGING web[24;13H'''[25;11H}[26d	}[27;6H}[28dstage('Push image in production and deploy it') {[29;8Hwhen {[30d expression { GIT_BRANCH == 'origin/master' }[18d[21d[22d[23d[24d[25d[26d[27d     }[1;117H(B[0;7mModified[28d(B[m[K[29;6Hstage('Push image in production and deploy it') {[30;8Hwhen {[K[28d[29d[K[30;6Hstage('Push image in production and deploy it') {[A[A[25d[22d[19d[22d[25d[28d[21;31r[31;1H[2S[1;33r[3;7Hsteps {[K[4;11Hscript {[K[5;13Hsh '''[K[6;15Hheroku container:login[7;12H   heroku create $STAGING || echo "project already exist"[8;14H[1K heroku container:push -a $STAGING web[9;14H[1K heroku container:release -a $STAGING web[10;12H[1K '''[11;11H}[K[12d	}[K[13;6H}[K[14dstage('Test Staging deployment') {[15;8Hwhen {[K[16d[1K expression { GIT_BRANCH == 'origin/master' }[17;12H[1K }[18;11H agent any[19;12Hsteps {[20;15Hscript {[K[21;15H  sh '''[K[22;20H[1K curl https://${STAGING}.herokuapp.com | grep -q "Hello world"[23;16H[1K	'''[24;14H[1K }[25;11H[1K }[26;7H}[29dwhen {[30d expression { GIT_BRANCH == 'origin/master' }[26;8H[29d[9;17r[17;1H
[1;33r[3;11H[1K agent any[4;11H steps[5;13H  script {[6;15H  sh '''[K[7;20H[1K curl https://${STAGING}.herokuapp.com | grep -q "Hello world"[8;15H  '''[K[9;13H  }[10d[10;11H }[11;7H}[K[12d[K[13;13HPush image in production and deploy it') {[17;7Hagent any[18;7Henvironment {[K[19;11HHEROKU_API_KEY = credentials('heroku_api_key')[20;7H}[K[21dsteps {[K[22;11Hscript {[K[23;13Hsh '''[K[24;15Hheroku container:login[25;12H   heroku create $PRODUCTION || echo "project already exist"[26;14H[1K heroku container:push -a $PRODUCTION web[27;15Hheroku container:release -a $PRODUCTION web[28;12H[1K '''[K[29;8H   }[K[30d	}[K[17;8H[20d[23d[26d[29d[2;31r[31;1H[15S[1;33r[2;1H[K[16;6H}[17;3H}[18d}[A }[19d[A[A[A[A[13d[A[A[A[A[10d[11d[12d[13d[14d[15d[16d[17d[A     }7[17;31r8[17dM[1;33r[17;1H7[17;31r8M[1;33r[17;15Hheroku container:release -a $PRODUCTION web[18d[18;31r[31;1H
[1;33r[17;58H[Z [Z[K    [Z [Z  [K[K[Z[K     [Z [Z [K   [Z[K      [Z [Z [K[17;15H	    stage('Test Prod deployment') {[18;7H[1K when {[19d[1K expression { GIT_BRANCH == 'origin/master' }[20;13H}[21dagent any[22;12Hsteps {[23;15Hscript {[24;17Hsh '''[25dcurl https://${PRODUCTION}.herokuapp.com | grep -q "Hello world"[26;17H'''[27;3H}[28d}[26;20H7[27;31r8[27dM[1;33r[27;1H[27;15H}[28;11H[1K }[29d[K[30d  }[A  [2;31r[31;1H[15S[1;33r[2;1H[K[16d}[17d[A}[A }[A  [7G}[11d[8d[5d[2;31r[2;1H[15T[1;33r[3;7Henvironment {[4;11HHEROKU_API_KEY = credentials('heroku_api_key')[5;7H}[6dsteps {[7;11Hscript {[8;13Hsh '''[9;15Hheroku container:login[10;15Hheroku create $PRODUCTION || echo "project already exist"[11;15Hheroku container:push -a $PRODUCTION web[12;15Hheroku container:release -a $PRODUCTION web[13;13H'''[14;11H}[15d	}[16;6H}[17dstage('Test Prod deployment') {[31d[K[17;8H[14d[11d[8d[5d[9;21r[21;1H[4S[1;33r[3;11H[1K agent any[4;11H steps {[K[5;14H[1K script {[6;16H[1K	sh '''[7;20H[1K curl https://${STAGING}.herokuapp.com | grep -q "Hello world"[8;13H    '''[9;13H  }[10d[10;11H }[11;7H}[K[12d[K[13;5H stage('Push image in production and deploy it') {[17d[5P[18;7Henvironment {[19;11HHEROKU_API_KEY = credentials('heroku_api_key')[20;7H}[21dsteps {[22;11Hscript[23;13Hsh '''[K[24;15ronment {[30;11HHEROKU_API_KEY = credentials('heroku_api_key')[18d[21d[24d[27d[30d7[2;31r8[31d[15S[1;33r[2;1H[K[16;7H}[17dsteps {[18;11Hscript {[19;13Hsh '''[20;15Hheroku container:login[21;15Hheroku create $STAGING || echo "project already exist"[22;15Hheroku container:push -a $STAGING web[23;15Hheroku container:release -a $STAGING web[24;13H'''[25;11H}[26d	}[27;6H}[28dstage('Push image in production and deploy it') {[29;8Hwhen {[30d expression { GIT_BRANCH == 'origin/master' }[18d[21d[22d[23d[24d[25d[26d[27d     }[1;117H(B[0;7mModified[28d(B[m[K[29;6Hstage('Push image in production and deploy it') {[30;8Hwhen {[K[28d[29d[K[30;6Hstage('Push image in production and deploy it') {[A[A[25d[22d[19d[22d[25d[28d[21;31r[31;1H[2S[1;33r[3;7Hsteps {[K[4;11Hscript {[K[5;13Hsh '''[K[6;15Hheroku container:login[7;12H   heroku create $STAGING || echo "project already exist"[8;14H[1K heroku container:push -a $STAGING web[9;14H[1K heroku container:release -a $STAGING web[10;12H[1K '''[11;11H}[K[12d	}[K[13;6H}[K[14dstage('Test Staging deployment') {[15;8Hwhen {[K[16d[1K expression { GIT_BRANCH == 'origin/master' }[17;12H[1K }[18;11H agent any[19;12Hsteps {[20;15Hscript {[K[21;15H  sh '''[K[22;20H[1K curl https://${STAGING}.herokuapp.com | grep -q "Hello world"[23;16H[1K	'''[24;14H[1K }[25;11H[1K }[26;7H}[29dwhen {[30d expression { GIT_BRANCH == 'origin/master' }[26;8H[29d[9;17r[17;1H
[1;33r[3;11H[1K agent any[4;11H steps[5;13H  script {[6;15H  sh '''[K[7;20H[1K curl https://${STAGING}.herokuapp.com | grep -q "Hello world"[8;15H  '''[K[9;13H  }[10d[10;11H }[11;7H}[K[12d[K[13;13HPush image in production and deploy it') {[17;7Hagent any[18;7Henvironment {[K[19;11HHEROKU_API_KEY = credentials('heroku_api_key')[20;7H}[K[21dsteps {[K[22;11Hscript {[K[23;13Hsh '''[K[24;15Hheroku container:login[25;12H   heroku create $PRODUCTION || echo "project already exist"[26;14H[1K heroku container:push -a $PRODUCTION web[27;15Hheroku container:release -a $PRODUCTION web[28;12H[1K '''[K[29;8H   }[K[30d	}[K[17;8H[20d[23d[26d[29d[2;31r[31;1H[15S[1;33r[2;1H[K[16;6H}[17;3H}[18d}[A }[19d[A[A[A[A[13d[A[A[A[A[10d[11d[12d[13d[14d[15d[16d[17d[A     }7[17;31r8[17dM[1;33r[17;1H7[17;31r8M[1;33r[17;15Hheroku container:release -a $PRODUCTION web[18d[18;31r[31;1H
[1;33r[17;58H[Z [Z[K    [Z [Z  [K[K[Z[K     [Z [Z [K   [Z[K      [Z [Z [K[17;15H	    stage('Test Prod deployment') {[18;7H[1K when {[19d[1K expression { GIT_BRANCH == 'origin/master' }[20;13H}[21dagent any[22;12Hsteps {[23;15Hscript {[24;17Hsh '''[25dcurl https://${PRODUCTION}.herokuapp.com | grep -q "Hello world"[26;17H'''[27;3H}[28d}[26;20H7[27;31r8[27dM[1;33r[27;1H[27;15H}[28;11H[1K }[29d[K[30d  }[A  [2;31r[31;1H[15S[1;33r[2;1H[K[16d}[17d[A}[A }[A  [7G}[11d[8d[5d[2;31r[2;1H[15T[1;33r[3;7Henvironment {[4;11HHEROKU_API_KEY = credentials('heroku_api_key')[5;7H}[6dsteps {[7;11Hscript {[8;13Hsh '''[9;15Hheroku container:login[10;15Hheroku create $PRODUCTION || echo "project already exist"[11;15Hheroku container:push -a $PRODUCTION web[12;15Hheroku container:release -a $PRODUCTION web[13;13H'''[14;11H}[15d	}[16;6H}[17dstage('Test Prod deployment') {[31d[K[17;8H[14d[11d[8d[5d[9;21r[21;1H[4S[1;33r[3;11H[1K agent any[4;11H steps {[K[5;14H[1K script {[6;16H[1K	sh '''[7;20H[1K curl https://${STAGING}.herokuapp.com | grep -q "Hello world"[8;13H    '''[9;13H  }[10d[10;11H }[11;7H}[K[12d[K[13;5H stage('Push image in production and deploy it') {[17d[5P[18;7Henvironment {[19;11HHEROKU_API_KEY = credentials('heroku_api_key')[20;7H}[21dsteps {[22;11Hscript[23;13Hsh '''[K[24;15Hheroku container:login[25;15Hheroku create $PRODUCTION || echo "project already exist"[K[26;15Hheroku container:push -a $STAGING web[24;13H'''[25;11H}[26d	}[27;6H}[28dstage('Push image in production and deploy it') {[29;8Hwhen {[30d expression { GIT_BRANCH == 'origin/master' }[18d[21d[22d[23d[24d[25d[26d[27d     }[1;117H(B[0;7mModified[28d(B[m[K[29;6Hstage('Push image in production and deploy it') {[30;8Hwhen {[K[28d[29d[K[30;6Hstage('Push image in production and deploy it') {[A[A[25d[22d[19d[22d[25d[28d[21;31r[31;1H[2S[1;33r[3;7Hsteps {[K[4;11Hscript {[K[5;13Hsh '''[K[6;15Hheroku container:login[7;12H   heroku create $STAGING || echo "project already exist"[8;14H[1K heroku container:push -a $STAGING web[9;14H[1K heroku container:release -a $STAGING web[10;12H[1K '''[11;11H}[K[12d	}[K[13;6H}[K[14dstage('Test Staging deployment') {[15;8Hwhen {[K[16d[1K expression { GIT_BRANCH == 'origin/master' }[17;12H[1K }[18;11H agent any[19;12Hsteps {[20;15Hscript {[K[21;15H  sh '''[K[22;20H[1K curl https://${STAGING}.herokuapp.com | grep -q "Hello world"[23;16H[1K	'''[24;14H[1K }[25;11H[1K }[26;7H}[29dwhen {[30d expression { GIT_BRANCH == 'origin/master' }[26;8H[29d[9;17r[17;1H
[1;33r[3;11H[1K agent any[4;11H steps[5;13H  script {[6;15H  sh '''[K[7;20H[1K curl https://${STAGING}.herokuapp.com | grep -q "Hello world"[8;15H  '''[K[9;13H  }[10d[10;11H }[11;7H}[K[12d[K[13;13HPush image in production and deploy it') {[17;7Hagent any[18;7Henvironment {[K[19;11HHEROKU_API_KEY = credentials('heroku_api_key')[20;7H}[K[21dsteps {[K[22;11Hscript {[K[23;13Hsh '''[K[24;15Hheroku container:login[25;12H   heroku create $PRODUCTION || echo "project already exist"[26;14H[1K heroku container:push -a $PRODUCTION web[27;15Hheroku container:release -a $PRODUCTION web[28;12H[1K '''[K[29;8H   }[K[30d	}[K[17;8H[20d[23d[26d[29d[2;31r[31;1H[15S[1;33r[2;1H[K[16;6H}[17;3H}[18d}[A }[19d[A[A[A[A[13d[A[A[A[A[10d[11d[12d[13d[14d[15d[16d[17d[A     }7[17;31r8[17dM[1;33r[17;1H7[17;31r8M[1;33r[17;15Hheroku container:release -a $PRODUCTION web[18d[18;31r[31;1H
[1;33r[17;58H[Z [Z[K    [Z [Z  [K[K[Z[K     [Z [Z [K   [Z[K      [Z [Z [K[17;15H	    stage('Test Prod deployment') {[18;7H[1K when {[19d[1K expression { GIT_BRANCH == 'origin/master' }[20;13H}[21dagent any[22;12Hsteps {[23;15Hscript {[24;17Hsh '''[25dcurl https://${PRODUCTION}.herokuapp.com | grep -q "Hello world"[26;17H'''[27;3H}[28d}[26;20H7[27;31r8[27dM[1;33r[27;1H[27;15H}[28;11H[1K }[29d[K[30d  }[A  [2;31r[31;1H[15S[1;33r[2;1H[K[16d}[17d[A}[A }[A  [7G}[11d[8d[5d[2;31r[2;1H[15T[1;33r[3;7Henvironment {[4;11HHEROKU_API_KEY = credentials('heroku_api_key')[5;7H}[6dsteps {[7;11Hscript {[8;13Hsh '''[9;15Hheroku container:login[10;15Hheroku create $PRODUCTION || echo "project already exist"[11;15Hheroku container:push -a $PRODUCTION web[12;15Hheroku container:release -a $PRODUCTION web[13;13H'''[14;11H}[15d	}[16;6H}[17dstage('Test Prod deployment') {[31d[K[17;8H[14d[11d[8d[5d[9;21r[21;1H[4S[1;33r[3;11H[1K agent any[4;11H steps {[K[5;14H[1K script {[6;16H[1K	sh '''[7;20H[1K curl https://${STAGING}.herokuapp.com | grep -q "Hello world"[8;13H    '''[9;13H  }[10d[10;11H }[11;7H}[K[12d[K[13;5H stage('Push image in production and deploy it') {[17d[5P[18;7Henvironment {[19;11HHEROKU_API_KEY = credentials('heroku_api_key')[20;7H}[21dsteps {[22;11Hscript[23;13Hsh '''[K[24;15Hheroku container:login[25;15Hheroku create $PRODUCTION || echo "project already exist"[K[26;15Hheroku container:push -a $PRODUCTION web[27;15Hheroku container:release -a $PRODUCTION web[28;12H '''[29d[7G    }[30;8H[1K	}[17;8H[20d[23d[26d[29d[3denvironment {[K[4;11HHEROKU_API_KEY = credentials('heroku_api_key')[5;7H}[K[6dsteps {[K[7;11Hscript {[K[8;13Hsh '''[K[9;15Hheroku container:login[10;12H   heroku create $PRODUCTION || echo "project a12d	}[K[13;6H}[K[14dstage('Test Staging deployment') {[15;8Hwhen {[K[16d[1K expression { GIT_BRANCH == 'origin/master' }[17;12H[1K }[18;11H agent any[19;12Hsteps {[20;15Hscript {[K[21;15H  sh '''[K[22;20H[1K curl https://${STAGING}.herokuapp.com | grep -q "Hello world"[23;16H[1K	'''[24;14H[1K }[25;11H[1K }[26;7H}[29dwhen {[30d expression { GIT_BRANCH == 'origin/master' }[26;8H[29d[9;17r[17;1H
[1;33r[3;11H[1K agent any[4;11H steps[5;13H  script {[6;15H  sh '''[K[7;20H[1K curl https://${STAGING}.herokuapp.com | grep -q "Hello world"[8;15H  '''[K[9;13H  }[10d[10;11H }[11;7H}[K[12d[K[13;13HPush image in production and deploy it') {[17;7Hagent any[18;7Henvironment {[K[19;11HHEROKU_API_KEY = credentials('heroku_api_key')[20;7H}[K[21dsteps {[K[22;11Hscript {[K[23;13Hsh '''[K[24;15Hheroku container:login[25;12H   heroku create $PRODUCTION || echo "project already exist"[26;14H[1K heroku container:push -a $PRODUCTION web[27;15Hheroku container:release -a $PRODUCTION web[28;12H[1K '''[K[29;8H   }[K[30d	}[K[17;8H[20d[23d[26d[29d[2;31r[31;1H[15S[1;33r[2;1H[K[16;6H}[17;3H}[18d}[A }[19d[A[A[A[A[13d[A[A[A[A[10d[11d[12d[13d[14d[15d[16d[17d[A     }7[17;31r8[17dM[1;33r[17;1H7[17;31r8M[1;33r[17;15Hheroku container:release -a $PRODUCTION web[18d[18;31r[31;1H
[1;33r[17;58H[Z [Z[K    [Z [Z  [K[K[Z[K     [Z [Z [K   [Z[K      [Z [Z [K[17;15H	    stage('Test Prod deployment') {[18;7H[1K when {[19d[1K expression { GIT_BRANCH == 'origin/master' }[20;13H}[21dagent any[22;12Hsteps {[23;15Hscript {[24;17Hsh '''[25dcurl https://${PRODUCTION}.herokuapp.com | grep -q "Hello world"[26;17H'''[27;3H}[28d}[26;20H7[27;31r8[27dM[1;33r[27;1H[27;15H}[28;11H[1K }[29d[K[30d  }[A  [2;31r[31;1H[15S[1;33r[2;1H[K[16d}[17d[A}[A }[A  [7G}[11d[8d[5d[2;31r[2;1H[15T[1;33r[3;7Henvironment {[4;11HHEROKU_API_KEY = credentials('heroku_api_key')[5;7H}[6dsteps {[7;11Hscript {[8;13Hsh '''[9;15Hheroku container:login[10;15Hheroku create $PRODUCTION || echo "project already exist"[11;15Hheroku container:push -a $PRODUCTION web[12;15Hheroku container:release -a $PRODUCTION web[13;13H'''[14;11H}[15d	}[16;6H}[17dstage('Test Prod deployment') {[31d[K[17;8H[14d[11d[8d[5d[9;21r[21;1H[4S[1;33r[3;11H[1K agent any[4;11H steps {[K[5;14H[1K script {[6;16H[1K	sh '''[7;20H[1K curl https://${STAGING}.herokuapp.com | grep -q "Hello world"[8;13H    '''[9;13H  }[10d[10;11H }[11;7H}[K[12d[K[13;5H stage('Push image in production and deploy it') {[17d[5P[18;7Henvironment {[19;11HHEROKU_API_KEY = credentials('heroku_api_key')[20;7H}[21dsteps {[22;11Hscript[23;13Hsh '''[K[24;15Hheroku container:login[25;15Hheroku create $PRODUCTION || echo "project already exist"[K[26;15Hheroku container:push -a $PRODUCTION web[27;15Hheroku container:release -a $PRODUCTION web[28;12H '''[29d[7G    }[30;8H[1K	}[17;8H[20d[23d[26d[29d[3denvironment {[K[4;11HHEROKU_API_KEY = credentials('heroku_api_key')[5;7H}[K[6dsteps {[K[7;11Hscript {[K[8;13Hsh '''[K[9;15Hheroku container:login[10;12H   heroku create $PRODUCTION || echo "project already exist"[11;14H[1K heroku container:push -a $PRODUCTION web[12;15Hheroku container:release -a $PRODUCTION web[13;12H[1K '''[K[14;8H   }[K[15d	}[K[16;6H}[K[17dstage('Test Prod deployment') {[18;7H when {[K[19;11H    expression { GIT_BRANCH == 'origin/master' }[20;12H[1K }[21;11H[1K agent any[22;11H steps[23;13H  script {[24;15H  sh '''[K[25;20H[1K curl https://${PRODUCTION}.herokuapp.com | grep -q "Hello world"[26;15H  '''[K[27;15H}[K[28;12H}[K[29;7H}[K[30;3H}[K[17;8H[20d[31d(B[0;7mSave modified buffer (ANSWERING "No" WILL DESTROY CHANGES) ?                                                                  [32;1H Y(B[m Yes[K[33d(B[0;7m N(B[m No  [33;17H(B[0;7m^C(kuapp.com | grep -q "Hello world"[23;16H[1K	'''[24;14H[1K }[25;11H[1K }[26;7H}[29dwhen {[30d expression { GIT_BRANCH == 'origin/master' }[26;8H[29d[9;17r[17;1H
[1;33r[3;11H[1K agent any[4;11H steps[5;13H  script {[6;15H  sh '''[K[7;20H[1K curl https://${STAGING}.herokuapp.com | grep -q "Hello world"[8;15H  '''[K[9;13H  }[10d[10;11H }[11;7H}[K[12d[K[13;13HPush image in production and deploy it') {[17;7Hagent any[18;7Henvironment {[K[19;11HHEROKU_API_KEY = credentials('heroku_api_key')[20;7H}[K[21dsteps {[K[22;11Hscript {[K[23;13Hsh '''[K[24;15Hheroku container:login[25;12H   heroku create $PRODUCTION || echo "project already exist"[26;14H[1K heroku container:push -a $PRODUCTION web[27;15Hheroku container:release -a $PRODUCTION web[28;12H[1K '''[K[29;8H   }[K[30d	}[K[17;8H[20d[23d[26d[29d[2;31r[31;1H[15S[1;33r[2;1H[K[16;6H}[17;3H}[18d}[A }[19d[A[A[A[A[13d[A[A[A[A[10d[11d[12d[13d[14d[15d[16d[17d[A     }7[17;31r8[17dM[1;33r[17;1H7[17;31r8M[1;33r[17;15Hheroku container:release -a $PRODUCTION web[18d[18;31r[31;1H
[1;33r[17;58H[Z [Z[K    [Z [Z  [K[K[Z[K     [Z [Z [K   [Z[K      [Z [Z [K[17;15H	    stage('Test Prod deployment') {[18;7H[1K when {[19d[1K expression { GIT_BRANCH == 'origin/master' }[20;13H}[21dagent any[22;12Hsteps {[23;15Hscript {[24;17Hsh '''[25dcurl https://${PRODUCTION}.herokuapp.com | grep -q "Hello world"[26;17H'''[27;3H}[28d}[26;20H7[27;31r8[27dM[1;33r[27;1H[27;15H}[28;11H[1K }[29d[K[30d  }[A  [2;31r[31;1H[15S[1;33r[2;1H[K[16d}[17d[A}[A }[A  [7G}[11d[8d[5d[2;31r[2;1H[15T[1;33r[3;7Henvironment {[4;11HHEROKU_API_KEY = credentials('heroku_api_key')[5;7H}[6dsteps {[7;11Hscript {[8;13Hsh '''[9;15Hheroku container:login[10;15Hheroku create $PRODUCTION || echo "project already exist"[11;15Hheroku container:push -a $PRODUCTION web[12;15Hheroku container:release -a $PRODUCTION web[13;13H'''[14;11H}[15d	}[16;6H}[17dstage('Test Prod deployment') {[31d[K[17;8H[14d[11d[8d[5d[9;21r[21;1H[4S[1;33r[3;11H[1K agent any[4;11H steps {[K[5;14H[1K script {[6;16H[1K	sh '''[7;20H[1K curl https://${STAGING}.herokuapp.com | grep -q "Hello world"[8;13H    '''[9;13H  }[10d[10;11H }[11;7H}[K[12d[K[13;5H stage('Push image in production and deploy it') {[17d[5P[18;7Henvironment {[19;11HHEROKU_API_KEY = credentials('heroku_api_key')[20;7H}[21dsteps {[22;11Hscript[23;13Hsh '''[K[24;15Hheroku container:login[25;15Hheroku create $PRODUCTION || echo "project already exist"[K[26;15Hheroku container:push -a $PRODUCTION web[27;15Hheroku container:release -a $PRODUCTION web[28;12H '''[29d[7G    }[30;8H[1K	}[17;8H[20d[23d[26d[29d[3denvironment {[K[4;11HHEROKU_API_KEY = credentials('heroku_api_key')[5;7H}[K[6dsteps {[K[7;11Hscript {[K[8;13Hsh '''[K[9;15Hheroku container:login[10;12H   heroku create $PRODUCTION || echo "project already exist"[11;14H[1K heroku container:push -a $PRODUCTION web[12;15Hheroku container:release -a $PRODUCTION web[13;12H[1K '''[K[14;8H   }[K[15d	}[K[16;6H}[K[17dstage('Test Prod deployment') {[18;7H when {[K[19;11H    expression { GIT_BRANCH == 'origin/master' }[20;12H[1K }[21;11H[1K agent any[22;11H steps[23;13H  script {[24;15H  sh '''[K[25;20H[1K curl https://${PRODUCTION}.herokuapp.com | grep -q "Hello world"[26;15H  '''[K[27;15H}[K[28;12H}[K[29;7H}[K[30;3H}[K[17;8H[20d[31d(B[0;7mSave modified buffer (ANSWERING "No" WILL DESTROY CHANGES) ?                                                                  [32;1H Y(B[m Yes[K[33d(B[0;7m N(B[m No  [33;17H(B[0;7m^C(B[m Cancel[K[31;62H(B[0;7mFile Name to Write: Jenkinsfile                             [32d^G(B[m Get Help[32;32H(B[0;7mM-D(B[m DOS Format[32;63H(B[0;7mM-A(B[m Append[32;94H(B[0;7mM-B(B[m Backup File[33d(B[0;7m^C(B[m Cancel	 [1;33r[3;11H[1K agent any[4;11H steps[5;13H  script {[6;15H  sh '''[K[7;20H[1K curl https://${STAGING}.herokuapp.com | grep -q "Hello world"[8;15H  '''[K[9;13H  }[10d[10;11H }[11;7H}[K[12d[K[13;13HPush image in production and deploy it') {[17;7Hagent any[18;7Henvironment {[K[19;11HHEROKU_API_KEY = credentials('heroku_api_key')[20;7H}[K[21dsteps {[K[22;11Hscript {[K[23;13Hsh '''[K[24;15Hheroku container:login[25;12H   heroku create $PRODUCTION || echo "project already exist"[26;14H[1K heroku container:push -a $PRODUCTION web[27;15Hheroku container:release -a $PRODUCTION web[28;12H[1K '''[K[29;8H   }[K[30d	}[K[17;8H[20d[23d[26d[29d[2;31r[31;1H[15S[1;33r[2;1H[K[16;6H}[17;3H}[18d}[A }[19d[A[A[A[A[13d[A[A[A[A[10d[11d[12d[13d[14d[15d[16d[17d[A     }7[17;31r8[17dM[1;33r[17;1H7[17;31r8M[1;33r[17;15Hheroku container:release -a $PRODUCTION web[18d[18;31r[31;1H
[1;33r[17;58H[Z [Z[K    [Z [Z  [K[K[Z[K     [Z [Z [K   [Z[K      [Z [Z [K[17;15H	    stage('Test Prod deployment') {[18;7H[1K when {[19d[1K expression { GIT_BRANCH == 'origin/master' }[20;13H}[21dagent any[22;12Hsteps {[23;15Hscript {[24;17Hsh '''[25dcurl https://${PRODUCTION}.herokuapp.com | grep -q "Hello world"[26;17H'''[27;3H}[28d}[26;20H7[27;31r8[27dM[1;33r[27;1H[27;15H}[28;11H[1K }[29d[K[30d  }[A  [2;31r[31;1H[15S[1;33r[2;1H[K[16d}[17d[A}[A }[A  [7G}[11d[8d[5d[2;31r[2;1H[15T[1;33r[3;7Henvironment {[4;11HHEROKU_API_KEY = credentials('heroku_api_key')[5;7H}[6dsteps {[7;11Hscript {[8;13Hsh '''[9;15Hheroku container:login[10;15Hheroku create $PRODUCTION || echo "project already exist"[11;15Hheroku container:push -a $PRODUCTION web[12;15Hheroku container:release -a $PRODUCTION web[13;13H'''[14;11H}[15d	}[16;6H}[17dstage('Test Prod deployment') {[31d[K[17;8H[14d[11d[8d[5d[9;21r[21;1H[4S[1;33r[3;11H[1K agent any[4;11H steps {[K[5;14H[1K script {[6;16H[1K	sh '''[7;20H[1K curl https://${STAGING}.herokuapp.com | grep -q "Hello world"[8;13H    '''[9;13H  }[10d[10;11H }[11;7H}[K[12d[K[13;5H stage('Push image in production and deploy it') {[17d[5P[18;7Henvironment {[19;11HHEROKU_API_KEY = credentials('heroku_api_key')[20;7H}[21dsteps {[22;11Hscript[23;13Hsh '''[K[24;15Hheroku container:login[25;15Hheroku create $PRODUCTION || echo "project already exist"[K[26;15Hheroku container:push -a $PRODUCTION web[27;15Hheroku container:release -a $PRODUCTION web[28;12H '''[29d[7G    }[30;8H[1K	}[17;8H[20d[23d[26d[29d[3denvironment {[K[4;11HHEROKU_API_KEY = credentials('heroku_api_key')[5;7H}[K[6dsteps {[K[7;11Hscript {[K[8;13Hsh '''[K[9;15Hheroku container:login[10;12H   heroku create $PRODUCTION || echo "project already exist"[11;14H[1K heroku container:push -a $PRODUCTION web[12;15Hheroku container:release -a $PRODUCTION web[13;12H[1K '''[K[14;8H   }[K[15d	}[K[16;6H}[K[17dstage('Test Prod deployment') {[18;7H when {[K[19;11H    expression { GIT_BRANCH == 'origin/master' }[20;12H[1K }[21;11H[1K agent any[22;11H steps[23;13H  script {[24;15H  sh '''[K[25;20H[1K curl https://${PRODUCTION}.herokuapp.com | grep -q "Hello world"[26;15H  '''[K[27;15H}[K[28;12H}[K[29;7H}[K[30;3H}[K[17;8H[20d[31d(B[0;7mSave modified buffer (ANSWERING "No" WILL DESTROY CHANGES) ?                                                                  [32;1H Y(B[m Yes[K[33d(B[0;7m N(B[m No  [33;17H(B[0;7m^C(B[m Cancel[K[31;62H(B[0;7mFile Name to Write: Jenkinsfile                             [32d^G(B[m Get Help[32;32H(B[0;7mM-D(B[m DOS Format[32;63H(B[0;7mM-A(B[m Append[32;94H(B[0;7mM-B(B[m Backup File[33d(B[0;7m^C(B[m Cancel	         [32G(B[0;7mM-M(B[m Mac Format[33;63H(B[0;7mM-P(B[m Prepend[31;32H[32d[39;49m(B[m[J[1;117H(B[0;7m        [31;53H(B[m[1K (B[0;7m[ Wrote 133 li